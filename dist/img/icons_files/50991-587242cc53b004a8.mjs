(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[50991,39395],{850115:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},554290:(e,n,i)=>{var t=i(406557);e.exports=function(e){return"function"==typeof e?e:t}},385564:(e,n,i)=>{var t=i(121078);e.exports=function(e){return(null==e?0:e.length)?t(e,1):[]}},498913:(e,n,i)=>{var t=i(422545),o=i(554290),r=i(640554),a=4294967295,s=Math.min;e.exports=function(e,n){if((e=r(e))<1||e>9007199254740991)return[];var i=a,l=s(e,a);n=o(n),e-=a;for(var d=t(l,n);++i<e;)n(i);return d}},225643:e=>{e.exports={FeedFieldType:{ITEM_ID:1,ITEM_GROUP_ID:2,TITLE:3,DESCRIPTION:4,ITEM_LINK:5,ORGANIC_LINK:6,IMAGE_LINK:7,ADWORDS_REDIRECT_LINK:8,AD_LINK:9,SIZE:10,GOOGLE_PRODUCT_CATEGORY:11,PRODUCT_CATEGORY:12,CONDITION:13,AVAILABILITY:14,GENDER:15,AGE_GROUP:16,SIZE_TYPE:17,SIZE_SYSTEM:18,ADULT:19,SHIPPING:20,SHIPPING_WEIGHT:21,TAX:22,MULTIPACK:23,ADDITIONAL_IMAGE_LINK:24,PRICE:25,SALE_PRICE:26,IS_BUNDLE:27,EXPIRATION_DATE:28,SALE_PRICE_EFFECTIVE_DATE:29,AVAILABILITY_DATE:30,WEIGHT_UNIT:31,UPDATED_TIME:32,PRODUCT_TYPE:33,CUSTOM_LABEL_0:34,CUSTOM_LABEL_1:35,CUSTOM_LABEL_2:36,CUSTOM_LABEL_3:37,CUSTOM_LABEL_4:38,MATERIAL:39,PATTERN:40,COLOR:41,BRAND:42,GTIN:43,MPN:44,IOS_DEEP_LINK:45,ANDROID_DEEP_LINK:46,FREE_SHIPPING_LABEL:47,FREE_SHIPPING_LIMIT:48,AVG_REVIEW_RATING:49,NUM_RATINGS:50,NUM_REVIEWS:51,ALT_TEXT:52,VARIANT_NAMES:53,VARIANT_VALUES:54,MIN_AD_PRICE:55,SHIPPING_WIDTH:56,SHIPPING_HEIGHT:57,LENGTH_UNIT:58,DESCRIPTION_HTML:59,CHECKOUT_ENABLED:60},ConditionType:{NEW:1,USED:2,REFURBISHED:3},AvailabilityType:{IN_STOCK:1,OUT_OF_STOCK:2,PREORDER:3,UNAVAILABLE:4},GenderType:{MALE:1,FEMALE:2,UNISEX:3},AgeGroupType:{NEWBORN:1,INFANT:2,TODDLER:3,KIDS:4,ADULT:5},TrueFalseType:{IS_TRUE:1,IS_FALSE:2,YES:3,NO:4},SizeTypeType:{REGULAR:1,PETITE:2,PLUS:3,BIG_AND_TALL:4,MATERNITY:5},SizeSystemType:{US:1,UK:2,EU:3,DE:4,FR:5,JP:6,CN:7,IT:8,BR:9,MEX:10,AU:11},WeightUnitType:{LB:1,OZ:2,KG:3,G:4},LengthUnitType:{IN:1,FT:2,MM:3,CM:4,M:5,KM:6},ShippingLabelType:{PERISHABLE:1,BULKY:2,PROMOTION:3},FeedType:{SHOPIFY:1,DEMANDWARE:4,BIGCOMMERCE:7,WAYFAIR:8,MAGENTO:9,IBM:10,OVERSTOCK:11,CHANNEL_ADVISOR:12,STITCHER_ADS:13,CHANNEL_INTELLIGENCE:14,MERCHANT_ADVANTAGE:15,DIRECT_HTTP_TSV:18,DIRECT_SFTP_TSV:19,DIRECT_FTP_TSV:20,DIRECT_HTTP_CSV:23,DIRECT_SFTP_CSV:24,DIRECT_FTP_CSV:25,DIRECT_HTTP_XML:26,DIRECT_SFTP_XML:27,DIRECT_FTP_XML:28,SHOPIFY_BULK:29,TARGET:2,MACYS:3,NEIMAN:5,NORDSTROM:6,IPROSPECT:16,MERCENT:17,PRODUCTSUP:21,MERKEL:22},RealtimePriorityLane:{ONBOARDING:0,DEFAULT:1,LOW:2,MEDIUM:3,HIGH:4,MEGA:5,STREAMED:6},FeedApplicationType:{BUYABLE_PIN_FEED:1,PRODUCT_PIN_ADS_FEED:2},PartnerType:{NONE:0,SHOPIFY:1},EntityEnvType:{PROD:0,STAGING:1,TEST:2,PROD_TEST:3},ProductApprovalStatus:{PENDING:0,APPROVED:1,DECLINED:2},ItemState:{ACTIVE:0,DELETED:1},OrderStatus:{NEW:1,IN_PROGRESS:2,SHIPPED:3,BACKORDER:4,CANCELLED:5,DELIVERED:6,RETURNED:7},FundingType:{UNKNOWN:1,CREDIT:2,DEBIT:3,PREPAID:4},OmsType:{SHOPIFY:1,TARGET:2,WALMART:3,DEMANDWARE:4,BIGCOMMERCE:5,MACYS:6,NEIMAN:7,NORDSTROM:8,BLOOMINGDALES:9,STANDARD:21},PaymentReceiverType:{PINTEREST_STRIPE_TOKEN_SHOPIFY:1,PINTEREST_STRIPE_CARD_PMD_SHOPIFY:2,PINTEREST_STRIPE_CARD_PMD_TARGET:3,PINTEREST_STRIPE_TOKEN_PMD_SHOPIFY:4,APPLE_PAY_STRIPE_TOKEN_PMD_SHOPIFY:5,PINTEREST_BRAINTREE_CARD_PMD_SHOPIFY:6,APPLE_PAY_BRAINTREE_TOKEN_PMD_SHOPIFY:7,PINTEREST_STRIPE_CARD_PMD_MACYS:8,APPLE_PAY_STRIPE_TOKEN_PMD_MACYS:9,PINTEREST_BRAINTREE_CARD_PMD_MACYS:10,APPLE_PAY_BRAINTREE_TOKEN_PMD_MACYS:11,PINTEREST_STRIPE_CARD_PMD_NEIMAN:12,APPLE_PAY_STRIPE_TOKEN_PMD_NEIMAN:13,PINTEREST_BRAINTREE_CARD_PMD_NEIMAN:14,APPLE_PAY_BRAINTREE_TOKEN_PMD_NEIMAN:15,PINTEREST_STRIPE_CARD_PMD_DEMANDWARE:16,APPLE_PAY_STRIPE_TOKEN_PMD_DEMANDWARE:17,PINTEREST_BRAINTREE_CARD_PMD_DEMANDWARE:18,APPLE_PAY_BRAINTREE_TOKEN_PMD_DEMANDWARE:19,PINTEREST_STRIPE_CARD_PMD_NORDSTROM:20,APPLE_PAY_STRIPE_TOKEN_PMD_NORDSTROM:21,PINTEREST_BRAINTREE_CARD_PMD_NORDSTROM:22,APPLE_PAY_BRAINTREE_TOKEN_PMD_NORDSTROM:23,PINTEREST_STRIPE_CARD_PMD_BLOOMINGDALES:24,APPLE_PAY_STRIPE_TOKEN_PMD_BLOOMINGDALES:25,PINTEREST_BRAINTREE_CARD_PMD_BLOOMINGDALES:26,APPLE_PAY_BRAINTREE_TOKEN_PMD_BLOOMINGDALES:27,PINTEREST_STRIPE_CARD_PMD_STANDARD:51,APPLE_PAY_STRIPE_TOKEN_PMD_STANDARD:52,PINTEREST_BRAINTREE_CARD_PMD_STANDARD:53,APPLE_PAY_BRAINTREE_TOKEN_PMD_STANDARD:54},IncentiveType:{VISA_STATEMENT_REBATE:1,MASTERCARD_STATEMENT_REBATE:2},IncentiveEnrollmentStatus:{ENROLLED:1,UNENROLLED:2,PENDING_ENROLL:11,PENDING_UNENROLL:12},IncentiveStatus:{NEW:1,VERIFIED:2,PRE_SUBMIT:3,SUBMITTED:4,DELIVERED:5,UNCONFIRMED:10,FAILED:11},FeedIntent:{PRODUCT_FULL:1,PRODUCT_UPDATE:2,PRODUCT_PIN_ADS_FULL:10,PRODUCT_PIN_ADS_UPDATE:11},WorkflowStatus:{IDLE:1,RUNNING:2,FINISHED:3,FAILED:4,DISCARDED:5},FeedFormatDisplayType:{TSV:1,CSV:2,XML:3,SHOPIFY_BULK:4},FeedProfileStatus:{ACTIVE:0,NEW_NOT_YET_ACTIVE:1,INACTIVE:2,TESTING:3,DISABLED:4},FeedFormatType:{GOOGLE_TSV:1,GOOGLE_TSV_NO_QUOTE:4,GOOGLE_TSV_EXCEL:5,GOOGLE_CSV:6,SHOPIFY_BULK:8,RICH_CLAIMED:9,NMG_XML:3,GOOGLE_XML:2,GOOGLE_CSV_EXCEL:7},PreprocessingStatusType:{PENDING:0,COMPLETED:1},FeedSourceType:{CATALOGS_FEED:1,UNIVERSAL_FEED:2},MerchantApprovalStatus:{APPROVED:0,PENDING:1,DECLINED:2,REVOKED:3,STAGING:4,PROD_TEST:5,APPEAL_PENDING:6},MerchantFeedType:{DIRECT:1,AGGREGATOR:2},MerchantReviewReason:{NO_RETURN_POLICY:0,NO_SHIPPING_POLICY:1,UNCLEAR_RETURNS:2,UNCLEAR_SHIPPING:3,SERVICES:4,TERMS_AND_SERVICES_VIOLATION:6,SPAM_VIOLATION:7,PROHIBITED_PRODUCTS:8,TRUST_AND_SAFETY_VIOLATION:9,PAYPAL:14,IN_STOCK:15,BANNER_ADS:16,DOMAIN_AGE:17,WATERMARKS:19,SALE:20,OUT_OF_DATE:21,PRODUCT_DESCRIPTION:22,POP_UP:23,NO_VIOLATION:25,MISCELLANEOUS:26,INACTIVE_FEED:33,MARKETPLACE_SECOND_HAND:34,MARKETPLACE_AFFILIATES:35,MARKETPLACE_WHOLESALE:36,BROKEN_404:37,BROKEN_REGISTRATION:38,INCOMPLETE_WEBSITE_TEMPLATE:39,INCOMPLETE_PRODUCT_CATEGORIES:40,INCOMPLETE_BROKEN_SHOPPING_CART:41,LONG_SHIPPING_TIME:42,AUTHENTICITY_PLAGIARIZED_ABOUT:43,AUTHENTICITY_NO_SOCIALS_OR_ABOUT:44,AUTHENTICITY_NO_CONTACT_INFORMATION:45,AUTHENTICITY_PAYPAL_VERIFIED_LOGO:46,IMAGE_QUALITY_BLURRY_IMAGES:47,IMAGE_QUALITY_STOCK_PHOTOS:48,INAUTHENTIC_PHOTOS_EMPTY_OR_BROKEN_PHOTOS:49,INAUTHENTIC_PHOTOS_IMAGE_NOT_OF_PRODUCT:50,WATCHLIST_DROPSHIPPER:51,WATCHLIST_TRAFFIC_50_TO_69:52,WATCHLIST_TRAFFIC_70_TO_89:53,WATCHLIST_TRAFFIC_90_TO_100:54,RESALE_MARKETPLACE:28,AFFILIATE_MARKETPLACE:29,WEBSITE_REQUIREMENTS:30,PRODUCT_REQUIREMENTS:31,BRAND_REPUTATION:32,BROKEN_URL:5,MARKETPLACE:10,DOMAIN_MISMATCH:11,INCOMPLETE:12,AUTHENTICITY:13,IMAGE_QUALITY:18,INAUTHENTIC_PHOTOS:24,DOMAIN_TOOLS_SCORE:27},MerchantVertical:{FASHION_WOMEN:0,FASHION_MEN:1,FASHION_CHILDREN:2,BEAUTY:3,WEDDINGS:4,HOME_DECOR:5,DIY_ARTS_AND_CRAFTS:6,OTHER:7,FOOD_AND_DRINK:8,ELECTRONICS:9,HEALTH:10},ResultOrderKey:{CREATE_TIMESTAMP:1,UPDATE_TIMESTAMP:2,USE_TIMESTAMP:3,BUYABLE_PIN_COUNT:4},NativeCheckoutPartnerType:{NONE:0,SHOPIFY:1,BOLT:2,AMAZON_US:3,AMAZON_UK:4},NativeCheckoutOrderStatus:{UNKNOWN:0,CREATED:1,CANCELLED:2,FULFILLMENT_IN_PROGRESS:3,FULFILLED:4,FAILED:5},NativeCheckoutPaymentEvent:{UNKNOWN:0,AUTHORIZE:1,CAPTURE:2,VOID:3,REFUND:4,FAILED:5},FeedAccessType:{PUSH:1,PULL:2},FeedFetchProtocolType:{HTTP:1,FTP:2,SFTP:3},FeedFetchAuthType:{NONE:1,OAUTH:2,BASIC:3,PKI:4,CUSTOM:5},FeedDefaultOperationType:{REPLACE:1,UPDATE:2,REMOVE:3},FeedFetchWorkflowStatus:{UNINITIALIZED:0,FETCHING:1,VALIDATING:2,SORTING:10,PREPROCESSING:3,INGESTING:4,INDEX_PENDING:11,COMPLETED_CANCELLED:5,COMPLETED_SUCCESS:6,COMPLETED_FAILED:7,COMPLETED_DUPLICATE:8,COMPLETED_WITHOUT_INGESTION:9,DATA_SOURCE_INVALID_EMAIL_PENDING:12},NotificationType:{PRICE_DROP:1,FREE_SHIPPING_AVAILABLE:2,AVAILABILITY_CHANGE:3,CART_ABANDONMENT:4},FeedTargetType:{FEED_FILE:1,ITEM:2,IMAGE:3,PRODUCT:4},FeedActionType:{FEED_FILE_ARCHIVED:10,FEED_FILE_REJECTED:11,ITEM_SAVED:20,ITEM_REJECTED:21,IMAGE_SAVED:30,IMAGE_REJECTED:31,PRODUCT_SAVED:40,PRODUCT_REJECTED:41},CommerceActionType:{CLOSEUP_7_DAYS:1,REPIN_7_DAYS:2,CLICK_THROUGH_7_DAYS:3,CART_CREATE_14_DAYS:4,PURCHASE_14_DAYS:5},AnnotationVersion:{ALL_FIELDS:1},TimeRange:{DAY:1,WEEK:2,BI_WEEK:3,MONTH:4},SalesRankTimeRange:{ONE_DAY:1,SEVEN_DAYS:2,THIRTY_DAYS:3},PriceModelVersion:{ENG_CV5FR11K:0,ENG_CV5INTL11K:1,GPT_GAUSSIAN:2},Source:{POPULAR_QUERY:1,POPULAR_INTEREST:2,SEARS_KOSEI:3,CRAWLED_DATA_SEARS:4,CRAWLED_DATA_MACYS:5,CRAWLED_DATA_BLOOMINGDALES:6,CRAWLED_DATA_NORDSTROM:7,CRAWLED_DATA_NEIMAN_MARCUS:8,CRAWLED_DATA_OVERSTOCK:9,OTHER:10},State:{UNINITIALIZED:0,VALID:1,BANNED:2},Edit:{TERM_CREATE:1,STATE_UPDATE:2,LANGUAGE_UPDATE:3,TEXT_UPDATE:4,SOURCE_ADD:5,SOURCE_DEL:6,UPDATE_AUX_DATA:7,UPDATE_DISPLAY_TEXT:8},EditSource:{ADMIN:1,COMMUNITY:2,ALGO:5},RealtimeIngestionType:{FULL:1,INCREMENTAL:2},RealtimeWorkflowStage:{FETCHING:1001,TRANSFORMER:1002,BATCHER:1003,VALIDATION:2001,MEDIA_PROCESSING:3001,MEDIA_PROCESSING_CALLBACK:3002,MEDIA_PREPROCESSING:3003,MEDIA_PREPROCESSING_CALLBACK:3004,PIN_CREATION:4001,PIN_CREATION_CALLBACK:4002,PIN_UPDATE_CALLBACK:4003,INDEXING:5001,PRE_AGGREGATION:6e3,AGGREGATION:6001},RealtimeWorkflowStatus:{INITIALIZED:1e3,RUNNING:2e3,SUCCESS:3e3,FAILED:4e3,DUPLICATE:5e3,TERMINATED:6e3,TIMED_OUT:7e3,RETRY_VALIDATION:8e3,INDEX_VALIDATION_PENDING:9e3},RealtimeWorkflowBatchStatus:{SCHEDULED:100,RUNNING:200,SUCCESS:300,FAILED:400,TERMINATED:500},ItemDropReason:{MERCHANT_NOT_APPROVED:0,STALE_EPOCH:1,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:2,BLOCKLISTED_IMAGE_SIGNATURE:3},Environment:{PROD:0,DEV:1,STAGING:2,CANARY:3},MerchantClientName:{SHOPPING_MERCHANT_DEFAULT:1,SHOPPING_MERCHANT_LOW:4,SHOPPING_MERCHANT_MEDIUM:3,SHOPPING_MERCHANT_HIGH:2,SHOPPING_MERCHANT_VERY_HIGH:5,SHOPPING_MERCHANT_TIER_0:6},EventType:{FETCH_SAME_SIGNATURE:2,FETCH_INACTIVE_FEED_ERROR:3,ITEM_NOT_FOUND:98,ITEM_ALREADY_EXISTS:99,FETCH_ERROR:100,ENCODING_ERROR:101,DELIMITER_ERROR:102,REQUIRED_COLUMNS_MISSING:103,IMAGE_LINK_INVALID:104,ITEMID_MISSING:105,TITLE_MISSING:106,DESCRIPTION_MISSING:107,PRODUCT_CATEGORY_MISSING:108,PRODUCT_CATEGORY_INVALID:109,PRODUCT_LINK_MISSING:110,IMAGE_LINK_MISSING:111,AVAILABILITY_INVALID:112,PRODUCT_PRICE_INVALID:113,TITLE_LENGTH_TOO_LONG:114,DESCRIPTION_LENGTH_TOO_LONG:115,CONDITION_INVALID:116,GENDER_INVALID:117,AGE_GROUP_INVALID:118,SIZE_TYPE_INVALID:119,PARSE_LINE_ERROR:120,LINK_FORMAT_WARNING:121,LINK_FORMAT_INVALID:122,DUPLICATE_PRODUCTS:123,DUPLICATE_LINKS:124,SALES_PRICE_INVALID:125,PRODUCT_CATEGORY_DEPTH_WARNING:126,ADWORDS_SAME_AS_LINK:127,INTERNAL_SERVICE_ERROR:128,DUPLICATE_HEADERS:129,TAX_INVALID:130,SHIPPING_INVALID:131,SHIPPING_WEIGHT_INVALID:132,MULTIPACK_INVALID:133,ADWORDS_FORMAT_WARNING:134,ADWORDS_FORMAT_INVALID:135,IMAGE_LINK_WARNING:136,ADDITIONAL_IMAGE_LINK_WARNING:137,FEED_LENGTH_TOO_LONG:138,INVALID_DOMAIN:139,NO_VERIFIED_DOMAIN:140,ADULT_INVALID:141,LINK_LENGTH_TOO_LONG:142,MALFORMED_XML:143,EXPIRATION_DATE_INVALID:144,AVAILABILITY_DATE_INVALID:145,SALE_DATE_INVALID:146,WEIGHT_UNIT_INVALID:147,IS_BUNDLE_INVALID:148,UPDATED_TIME_INVALID:149,REDIRECT_INVALID:150,PRICE_MISSING:151,FEED_TOO_SMALL:152,CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRODUCT_TYPE_LENGTH_TOO_LONG:154,TOO_MANY_ADDITIONAL_IMAGE_LINKS:155,SHOPIFY_NO_PRODUCTS:156,OPTIONAL_PRODUCT_CATEGORY_MISSING:157,OPTIONAL_PRODUCT_CATEGORY_INVALID:158,OPTIONAL_CONDITION_MISSING:159,OPTIONAL_CONDITION_INVALID:160,IOS_DEEP_LINK_INVALID:161,ANDROID_DEEP_LINK_INVALID:162,AVAILABILITY_NORMALIZED:163,CONDITION_NORMALIZED:164,GENDER_NORMALIZED:165,AGE_GROUP_NORMALIZED:166,SIZE_TYPE_NORMALIZED:167,UTM_SOURCE_AUTO_CORRECTED:168,COUNTRY_DOES_NOT_MAP_TO_CURRENCY:169,MIN_AD_PRICE_INVALID:170,ADULT_FLAGGED:171,STALE_EPOCH:4021,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:4022,MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,IMAGE_DOWNLOAD_SUCCESS:1e3,IMAGE_DOWNLOAD_ERROR:1001,IMAGE_DOWNLOAD_UNRECOGNIZED_ERROR:1005,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,INDEXED_PRODUCT_COUNT_LARGE_DELTA:1013,INDEXED_PRODUCT_COUNT_LARGE_DELTA_FALIURE:1014,IMAGE_NOT_FOUND:1010,IMAGE_UNAUTHORIZED_FAILURE:1101,IMAGE_DOWNLOAD_INTERNAL_ERROR:1102,IMAGE_DOWNLOAD_UPLOAD_REQUEST_EXPIRED:1103,IMAGE_DOWNLOAD_FILE_NOT_ACCESSIBLE:1104,IMAGE_DOWNLOAD_MALFORMED_URL:1105,IMAGE_FAILED_TO_DOWNLOAD:1106,IMAGE_DOWNLOAD_FILE_NOT_FOUND:1107,IMAGE_DOWNLOAD_CONFIGURATION_ERROR:1108,IMAGE_DOWNLOAD_INVALID_FILE:1109,IMAGE_DOWNLOAD_ERROR_RATE_LIMITED:1110,IMAGE_PREPROCESSING_SUCCESS:1120,IMAGE_PREPROCESSING_ERROR:1121,IMAGE_PREPROCESSING_INTERNAL_ERROR:1122,IMAGE_PREPROCESSING_UPLOAD_REQUEST_EXPIRED:1123,IMAGE_PREPROCESSING_FILE_NOT_ACCESSIBLE:1124,IMAGE_PREPROCESSING_MALFORMED_URL:1125,IMAGE_FAILED_TO_PREPROCESS:1126,IMAGE_PREPROCESSING_FILE_NOT_FOUND:1127,IMAGE_PREPROCESSING_CONFIGURATION_ERROR:1128,IMAGE_PREPROCESSING_INVALID_FILE:1129,IMAGE_PREPROCESSING_ERROR_RATE_LIMITED:1130,IMAGE_PREPROCESSING_UNRECOGNIZED_ERROR:1131,IMAGE_DOWNLOAD_HTTP_STATUS_400:1200,IMAGE_DOWNLOAD_HTTP_STATUS_403:1201,IMAGE_DOWNLOAD_HTTP_STATUS_404:1202,IMAGE_DOWNLOAD_HTTP_STATUS_405:1203,IMAGE_DOWNLOAD_HTTP_STATUS_410:1204,IMAGE_DOWNLOAD_HTTP_STATUS_429:1205,IMAGE_DOWNLOAD_HTTP_STATUS_500:1206,IMAGE_DOWNLOAD_HTTP_STATUS_502:1207,IMAGE_DOWNLOAD_HTTP_STATUS_503:1208,IMAGE_DOWNLOAD_HTTP_STATUS_504:1209,IMAGE_DOWNLOAD_HTTP_STATUS_507:1210,IMAGE_DOWNLOAD_HTTP_STATUS_508:1211,IMAGE_DOWNLOAD_HTTP_STATUS_520:1213,IMAGE_DOWNLOAD_HTTP_STATUS_521:1214,IMAGE_DOWNLOAD_HTTP_STATUS_522:1215,IMAGE_DOWNLOAD_HTTP_STATUS_525:1216,IMAGE_DOWNLOAD_SITE_TIMEOUT:1300,IMAGE_DOWNLOAD_CONTENT_READ_ERROR:1301,IMAGE_DOWNLOAD_SITE_ERROR:1302,IMAGE_DOWNLOAD_SSL_ERROR:1303,IMAGE_DOWNLOAD_SSL_HANDSHAKE_ERROR:1304,IMAGE_DOWNLOAD_DNS_LOOKUP_ERROR:1305,IMAGE_PROCESSING_HEIGHT_TOO_SMALL:1400,IMAGE_PROCESSING_WIDTH_TOO_SMALL:1401,IMAGE_PROCESSING_TOO_MANY_PIXELS:1402,IMAGE_PROCESSING_TYPE_MISMATCH:1403,IMAGE_PROCESSING_EMPTY_FILE:1404,IMAGE_DOWNLOAD_JOB_NOT_FOUND:1500,JOB_INITIALIZED:4e3,JOB_RUNNING:4001,JOB_ENQUEUE_FAILED:4002,JOB_COMPLETED:4010,UNIQUE_FEED_PRODUCTS:4027,FEED_FILE_ITEMS:4040,FEED_FILE_BATCHES:4051,SHOPIFY_ORIGINAL_NUMBER_OF_ITEMS:4056,SHOPIFY_ITEMS_NOT_PUBLISHED_ON_PINTEREST:4057,SHOPIFY_ONLINE_STORE_URL_MISSING:4058,SHOPIFY_TRANSLATIONS_MISSING:4059,SHOPIFY_ILLEGAL_STATE_EXCEPTIONS:4088,SHOPIFY_NULL_POINTER_EXCEPTIONS:4089,SHOPIFY_VARIANT_CURRENCY_EXCEPTIONS:4090,SHOPIFY_CURRENCY_MAPPING_NOT_FOUND:4091,SHOPIFY_NUMBER_OF_COLLECTIONS:4104,MERCHANT_NOT_APPROVED:4020,PIN_SELECTION_FAILURE:4024,ITEM_SCORE_FETCH_FAILURE:4025,ITEM_INDEX_WRITE_FAILURE:4026,ITEM_INDEX_WRITE_SUCCESS:4039,UNIFIED_CATALOG_ITEM_WRITE_FAILURE:4092,UNIFIED_CATALOG_ITEM_WRITE_SUCCESS:4093,ITEM_PERFORMANCE_DATA_FETCH_FAILURE:4086,ITEM_PRODUCT_ITEM_PINS_FETCH_FAILURE:4087,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_SUCCESS:4094,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_FAILURE:4095,ITEM_CONVERSION_UNIFIED_CATALOG_WRITE_FAILURE:4096,ITEM_CANONICALIZATION_UNIFIED_CATALOG_WRITE_FAILURE:4097,ITEM_SUBSET_UNIFIED_CATALOG_WRITE_FAILURE:4098,ITEM_CREATION_UNIFIED_CATALOG_WRITE_FAILURE:4099,ITEM_UPDATE_UNIFIED_CATALOG_WRITE_FAILURE:4100,ITEM_RECONCILIATION_UNIFIED_CATALOG_WRITE_FAILURE:4101,ITEM_NOT_PASS_DECIDER_UNIFIED_CATALOG_WRITE_FAILURE:4102,ITEM_ASYNC_IO_UNIFIED_CATALOG_WRITE_FAILURE:4103,ITEM_MAIN_IMAGE_PREPROCESSING_FAILURE:4070,ITEM_MAIN_IMAGE_PREPROCESSING_INTERNAL_ERROR:4071,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_FAILURE:4072,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_INTERNAL_ERROR:4073,IP_CALLBACK_RIO_REQUEST_FAIL:4074,IP_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4075,IP_MAIN_IMAGES_NEED_TO_BE_DOWNLOADED:4076,IP_MAIN_IMAGES_RECEIVED_IN_CALLBACK:4077,IP_ADDITIONAL_IMAGES_NEED_TO_BE_DOWNLOADED:4078,IP_ADDITIONAL_IMAGES_RECEIVED_IN_CALLBACK:4079,IP_MAIN_IMAGES_IN_CACHE:4080,IP_ADDITIONAL_IMAGES_IN_CACHE:4081,ITEM_MAIN_IMAGE_DOWNLOAD_FAILURE:4028,ITEM_MAIN_IMAGE_DOWNLOAD_INTERNAL_ERROR:4054,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_FAILURE:4029,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_INTERNAL_ERROR:4055,BMD_CALLBACK_RIO_REQUEST_FAIL:4045,BMD_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4046,PIN_CREATION_IMAGE_CACHE_READ_FAIL:4047,PIN_CREATION_ITEM_PIN_CACHE_READ_FAIL:4048,PIN_CREATION_REQ_SUCCESS:4030,PIN_CREATION_REQ_FAILED:4031,PIN_CREATION_REQ_INVALID_USER:4032,PIN_CREATION_REQ_INVALID_BOARD:4033,PIN_CREATION_REQ_FAIL_SPAM_CHECK:4034,PIN_CREATION_REQ_INVALID_SIGNATURE:4035,PIN_CREATION_CB_CREATED_SUCCESS:4036,PIN_CREATION_INTERNAL_FAILURE:4037,PIN_CREATION_NO_CACHED_SIGNATURE:4038,PIN_CREATION_BULK_UPDATE_FAILURE:4044,PIN_CREATION_MAIN_IMAGE_SPAM_CHECK_FAILED:4060,PIN_CREATION_ADDITIONAL_IMAGE_SPAM_CHECK_FAILED:4061,PIN_CREATION_FAILED_TO_CREATE:4082,PIN_CREATION_FAILED_TO_PROCESS:4083,PIN_CREATION_FAILED_SENT_TO_KAFKA:4084,PIN_CREATION_NOT_SUPPORTED_BOARD:4085,BPC_CALLBACK_READ_IMAGE_FAIL:4049,BPC_CALLBACK_READ_PIN_CACHE_FAIL:4050,BLOCKLISTED_IMAGE_SIGNATURE:4023,BLOCKLISTED_ADDITIONAL_IMAGE_SIGNATURE:4041,PINJOIN_CONTENT_UNSAFE:4042,ADDITIONAL_PINJOIN_CONTENT_UNSAFE:4043,GPT_UNSAFE_SIGNATURE:4052,GPT_UNSAFE_ADDITIONAL_SIGNATURE:4053,FIELD_IS_EQUAL_TO_PREVIOUS_VALUE:5e3,INTERNAL_LOGGING_ERROR:8e3,STATUS_TRACKING_JOB_FAILURE:8001,WORKLFLOW_SLA_MISSED:8002,PRE_AGGREGATION_SUCCESS:8003,PRE_AGGREGATION_FAILURE:8004,PRE_AGGREGATION_INVALID_EPOCH_INGESTION:8005,PRE_AGGREGATION_FAILED_INDEXED_PRODUCT_COUNT_DELTA:8006,PRE_AGGREGATION_FAILED_INDEXED_SR_THRESHOLD:8007,PRE_AGGREGATION_INVALID_FIRST_INGESTION:8008,PRE_AGGREGATION_SURPASSED_NUM_RETRIES:8009,PRE_AGGREGATION_SKIPPED_STREAMING_ENABLED:8010,IN_STOCK:9e3,OUT_OF_STOCK:9001,PREORDER:9002,NEW_ITEM:9003,UPDATED_PRICE:9004,UPDATED_AVAILABILITY:9005},ItemValidationToolFeedLevelEventType:{VALIDATE_FEED_FAILURE:1,MALFORMED_XML:2,XML_TO_TSV_TRANSFORMATION_FAILURE:3,FEED_HEADER_INVALID:4,ITEM_VALIDATION_TOOL_INTERNAL_ERROR:5},LogLevel:{INFO:1,DEBUG:2,WARN:3,ERROR:4},ShoppingCounterDimensions:{WORKFLOW_EVENT:1,WORKFLOW_STAGE:2},FeedIngestionEventType:{JOB_FAILURE:7,JOB_SUCCESS:8},ItemOperationType:{UPDATE:1,CREATE:2,UPSERT:3,DELETE:4}}},778423:e=>{e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},531572:(e,n,i)=>{i.d(n,{GT:()=>h,Gy:()=>l,Kl:()=>m,QY:()=>E,RR:()=>c,SP:()=>u,Sn:()=>T,Uz:()=>p,Zs:()=>I,i8:()=>d,nn:()=>s,qN:()=>_});var t=i(227361),o=i.n(t),r=i(850770),a=i(259755);const s=e=>!!e&&(e.shopping_flags||[]).includes(2),l=e=>{var n,i;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(n=null===(i=e.rich_metadata)||void 0===i?void 0:i.products)&&void 0!==n?n:[]).length>0},d=e=>{var n;return null===(n=e.aggregated_pin_data)||void 0===n?void 0:n.is_shop_the_look},c=e=>{var n,i;return null===(n=e.rich_summary)||void 0===n||null===(i=n.aggregate_rating)||void 0===i?void 0:i.rating_value},_=e=>e.is_oos_product,u=e=>e.is_stale_product,p=e=>_(e)||u(e),E=e=>{const n=o()(e,"link_domain.official_user.full_name");if(n)return n;const i=o()(e,"rich_summary.site_name");if(i)return i;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const t=o()(e,"via_pinner.full_name");return e.is_repin&&t?t:void 0},h=e=>{if(e){const n=e.shopping_flags||[];return!n.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&n.push(10),n}return[]};function I(e,n={}){var i,t,o,s,l,d;const c=h(e),_={...n.commerce_data};c.includes(2)&&(_.pin_is_shop_the_look=!0),c.includes(1)&&(_.is_available=!0),c.includes(5)&&(_.is_product_pin_v2=!0),c.includes(6)&&(_.is_rich_product_pin=!0),c.includes(10)&&(_.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,a.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(_.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?_.pin_show_pdp_oos=!0:e.is_stale_product?_.pin_show_pdp_stale=!0:_.pin_show_pdp=!0;const n=(0,r.Z)({pin:e});var u;if(n)_.image_count=null===(u=n.carousel_slots)||void 0===u?void 0:u.length,_.image_index=n.index}null!=e&&null!==(i=e.rich_summary)&&void 0!==i&&null!==(t=i.products)&&void 0!==t&&null!==(o=t[0])&&void 0!==o&&o.item_id&&(_.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(s=e.rich_summary)&&void 0!==s&&null!==(l=s.products)&&void 0!==l&&null!==(d=l[0])&&void 0!==d&&d.item_set_id&&(_.item_set_id=e.rich_summary.products[0].item_set_id);const p=e.aggregated_pin_data||{};return null!=p&&p.is_shop_the_look&&(_.pin_is_shop_the_look=!0),e.story_pin_data&&(_.story_pin_id=e.story_pin_data.id),_}function T(e){const n=JSON.stringify(e);return"{}"!==n?{commerce_data:n}:null}const m=(e,n={})=>{if(e){return T(I(e,n))}return null}},622263:(e,n,i)=>{function t(e){return Boolean(e.promoted_is_removable)}i.d(n,{Z:()=>t})},134413:(e,n,i)=>{i.d(n,{A6:()=>d,BS:()=>s,EC:()=>r,FC:()=>t,_5:()=>l,m9:()=>a,z9:()=>o});const t=424,o=800,r=508,a=424,s=278,l=640,d=508},813973:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(740049);async function o({filename:e,imgSrc:n,imageDownloadSuccessCallback:i,category:o,isUnauth:r,pinId:a,viewParameter:s,viewType:l},d){return"undefined"==typeof window?Promise.resolve():((0,t.My)(`web.${r?"unauth":"auth"}.download.click.${o||"no_category"}`),d({event_type:82,object_id_str:a,view_type:l||3,view_parameter:s||139}),n&&document?fetch(n,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((n=>{var t,o;const r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download",e&&e.replace(".","_")),r.style.display="none",null===(t=document.body)||void 0===t||t.appendChild(r),r.click(),null===(o=document.body)||void 0===o||o.removeChild(r),null==i||i()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},902339:(e,n,i)=>{i.d(n,{Z:()=>c});var t=i(667294),o=i(40142),r=i(518378),a=i(710159),s=i(724207);var l=i(883119),d=i(785893);function c({favorited:e,favoriteCount:n,isCloseupButton:i,onFavorite:c,onUnfavorite:_,pinId:u,size:p}){const E=(0,a.ZP)(),h=(0,o.useDispatch)(),[I,T]=(0,t.useState)(!1),[m,f]=(0,t.useState)(e),[S,P]=(0,t.useState)(null!=n?n:0),g=async()=>{var e;f(!m),T(!0),m?(P(S-1),await h((e=u,async n=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),n(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),_(),T(!1)):(P(S+1),await h(function(e){return async n=>{await s.ZP.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),n(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(u)),c(),T(!1))},A=S<10?S:E._("9+","favoriteButton.favoriteCountText","Text shown when greater than 9 favorites on Pin");return(0,d.jsxs)(l.kC,{alignItems:"center",gap:1,children:[void 0!==n&&S>0&&(0,d.jsx)(l.xv,{size:"md",weight:"bold",children:A}),(0,d.jsx)(r.Z,{isCloseupButton:i,isDisabled:I,isFavorited:m,onTap:()=>{g()},size:p})]})}},518378:(e,n,i)=>{i.d(n,{W:()=>s,Z:()=>l});var t=i(710159),o=i(883119),r=i(785893);const a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:n,isFavorited:i,onTap:l,size:d}){const c=(0,t.ZP)();return e?(0,r.jsx)(o.hU,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),dangerouslySetSvgPath:i?s:a,disabled:n,iconColor:"darkGray",onClick:l,size:"lg"}):(0,r.jsx)(o.iP,{disabled:n,onTap:l,children:(0,r.jsx)(o.JO,{accessibilityLabel:c._("Favorite icon","pinRep.footer.favoriteIcon","Accessible label for favorite icon on Pin"),color:"darkGray",dangerouslySetSvgPath:i?s:a,size:d})})}},277243:(e,n,i)=>{function t(e){const n=e.split("/");return[n[2],n[1]]}function o(e,n){return!e||!e.some((e=>e.pin_type===n))}i.d(n,{E:()=>o,J:()=>t})},715342:(e,n,i)=>{i.d(n,{H1:()=>d,HW:()=>r,iL:()=>l,pN:()=>s,s_:()=>a});var t=i(456168),o=i(112978);const r=new Date(2022,1,1);function a(){const e=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),n=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled,i=(0,o.tc)("android_ios_web_ip_plays_dark_reads")().anyEnabled;return e||n||i}function s({isOwnPin:e,isStoryPin:n,pinCreationDate:i,surface:a}){const s=(0,t.Z)(),l=(0,o.tc)("web_play_playtime_pin_stats")({dangerouslySkipActivation:!0}).anyEnabled,d="CreatorProfileStoryPinGrid"===a&&n&&i&&i.getTime()>=r.getTime()&&l&&s.isPartner&&e,c=(0,o.aq)("web_ip_plays",!!d).anyEnabled,_=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),u=(0,o.tc)("web_ip_pinner_plays");if("CreatorProfileStoryPinGrid"===a&&n&&i&&i.getTime()>=r.getTime()){if(s.isPartner)return e&&c||!e&&_;if(u().anyEnabled)return!0}return!1}function l({isOwnPin:e,isPartner:n}){const i=["enabled_public","employees"].includes((0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).group),t=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(t&&!n||i&&n))}function d({isOwnPin:e,isPartner:n}){const i=(0,o.tc)("web_ip_plays")({dangerouslySkipActivation:!0}).anyEnabled,t=(0,o.tc)("web_ip_pinner_plays")({dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(i&&n||t&&!n))}},238098:(e,n,i)=>{i.d(n,{G7:()=>E,ZP:()=>u,_E:()=>p,l6:()=>h,rh:()=>_});var t=i(620831),o=i(377097),r=i(628885),a=i(123686),s=i(721237),l=i(883119),d=i(785893);const c=e=>["employees","enabled"].includes(e.v2ActivateExperiment("px_show_protected_pin_stats_on_closeup"));function _(e,n,i){var r,a,l;if(!n.isAuth)return!1;const d=(0,s.Nc)(e)||(0,s.o)(e),_=(null===(r=e.board)||void 0===r?void 0:r.privacy)===t.Z.BoardPrivacy.PUBLIC,u=(null===(a=e.board)||void 0===a?void 0:a.privacy)===t.Z.BoardPrivacy.PROTECTED,p=(c(i)&&u||_)&&!e.is_repin&&(null===(l=e.pinner)||void 0===l?void 0:l.id)===n.id,{isStoryPin:E}=(0,o.Z)(e);return d&&(!u||c(i))||n.isPartner&&p||(e=>["employees","enabled"].includes(e.v2ActivateExperiment("web_ps4p")))(i)&&E&&p||(0,s.pU)(e)}function u({isVideo:e,isStoryPin:n,i18n:i,showPublicPinStats:t,showPrivateFullScreenPinStats:o}){return e?[{align:"start",displayText:i._("Video views","pinRep.pinStats.videoViews","Label for views of a video pin on pinrep"),field:"video_views",iconType:"play"},{align:"center",displayText:i._("Avg. time","pinRep.pinStats.videoAverageTime","Label for average time of a video pin on pinrep"),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:i._("Saves","pinRep.pinStats.save","Label for saves of a video pin on pinrep"),field:"save",iconType:"angled-pin"}]:n?t?[{align:"start",displayText:i._("Full screen plays","pinRep.pinStats.fullScreenPlays","Label for how many times the Idea Pin has been played full screen"),field:"full_screen_play",iconType:"play"}]:o?[{align:"start",displayText:i._("Full screen plays","pinRep.pinStats.fullScreenPlays","Label for how many times the Idea Pin has been played full screen"),field:"full_screen_play",iconType:"play"},{align:"center",displayText:i._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"end",displayText:i._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:i._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:i._("Closeups","pinRep.pinStats.closeups","Label for closeups of a pin on pinrep"),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:i._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:i._("Impressions","pinRep.pinStats.impression","Label for impressions of a pin on pinrep"),field:"impression",iconType:"eye"},{align:"center",displayText:i._("Saves","pinRep.pinStats.save","Label for saves of a pin on pinrep"),field:"save",iconType:"angled-pin"},{align:"end",displayText:i._("Link clicks","pinRep.pinStats.clickthrough","Label for click-throughs of a pin on pinrep"),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function p(e,n,i,t){const{isStoryPin:r,isVideo:c}=(0,o.Z)(e),_=(0,s.Nc)(e),u=(0,s.o)(e)&&(r||!_)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,p=new Date(e.created_at),E=(new Date).getTime()-p.getTime(),h=Math.floor(E/36e5),I=u?u["24h_realtime"].is_realtime:null,T=u?u["24h_realtime"].timestamp:null;let m=null;u&&(m=r||c?u.all_time_realtime.timestamp:u["30d_realtime"].timestamp);const f=m!==T,S=e=>(0,a.nk)(i._("Updated {{ lastUpdated }}","closeup.partnerModule.lastUpdated","Indicates to the user when the stats were last updated"),{lastUpdated:e}).join(""),P={timeframe:"",lastUpdated:""};if(u)if(I){const e=u["24h_realtime"].impression>=(r||c?u.all_time_realtime.impression:u["30d_realtime"].impression);P.timeframe=e?i._("Last 24 hours","closeup.partnerModule.lastUpdatedRealtime","Stats from the stated duration"):r||c?i._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"):i._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),P.lastUpdated=i._("Real-time estimates","closeup.partnerModule.lastUpdatedRealtime","Indicates to user that the stats are being updated in real-time")}else if(f||h>48)if(r||c){const e=t(u.all_time_realtime.timestamp);P.timeframe=i._("Lifetime of pin","closeup.partnerModule.lastUpdatedAllTime","Stats from stated duration"),P.lastUpdated=S(e)}else{const e=t(u["30d_realtime"].timestamp);P.timeframe=i._("Last 30 days","closeup.partnerModule.lastUpdated30Days","Stats from stated duration"),P.lastUpdated=S(e)}else{const e=t(u["24h_realtime"].timestamp);P.timeframe=i._("Last 24 hours","closeup.partnerModule.lastUpdatedHoursAgo","Stats from the stated duration"),P.lastUpdated=S(e)}else P.lastUpdated=i._("Stats are currently unavailable","closeup.partnerModule.statsUnavailable","Stats status for the pin");return(0,d.jsxs)(l.xu,{alignItems:r||"lg"!==n?"center":void 0,display:r||"lg"!==n?"flex":void 0,children:[(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"sm",children:P.lastUpdated}),(r||["md","sm"].includes(n))&&!!u&&(0,d.jsx)(l.xv,{color:"subtle",inline:!0,size:"sm",children:" ・"}),(0,d.jsx)(l.xv,{align:"end",color:"subtle",size:"sm",children:P.timeframe})]})}function E(e,n){return(0,r.Z)(n.ngettext("Last {{ count }} Day","Last {{ count }} Days",e,"Previous {{ count }} days from current date","Previous {{ count }} days from current date"),{count:e})}function h(e,n){return(0,r.Z)(n.ngettext("Last {{ count }} Hour","Last {{ count }} Hours",e,"analytics.utils","Previous {{ count }} hours from current time"),{count:e})}},8858:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(667294),o=i(539195),r=i(713751);function a(e,n){const{logContextEvent:i}=(0,o.v)(),{componentType:a,contextLogData:s,viewParameter:l,viewType:d}=(0,r.E)(),{aux_data:c,view_type:_,view_parameter:u,component:p,...E}=null!=n?n:{};return(0,t.useCallback)((()=>{i({event_type:e,view_type:_||d,view_parameter:u||l,component:p||a,...E,aux_data:{...c,...s}})}),[i,c,E,u,_,p,a,s,e,l,d])}},187828:(e,n,i)=>{i.d(n,{X:()=>o,Z:()=>r});var t=i(667294);const o=120;function r(e,n=0,i=o){const[r,a]=(0,t.useState)(e?"active":"inactive");return(0,t.useEffect)((()=>{if(!e){const e=setTimeout((()=>a("inactive")),i);return()=>{clearTimeout(e)}}if(n){const e=setTimeout((()=>a("active")),n);return()=>{clearTimeout(e)}}a("active")}),[e]),r}},713751:(e,n,i)=>{i.d(n,{B:()=>o,E:()=>r});var t=i(487889);const{Provider:o,useHook:r}=(0,t.Z)("trackingParametersContext")},599797:(e,n,i)=>{i.d(n,{Z:()=>u});var t=i(741012),o=i(531572),r=i(848392),a=i(20814),s=i(883119),l=i(112978),d=i(539195),c=i(713751),_=i(785893);function u({sizing:e="default",children:n,collageChipId:i,componentType:u,contextLogData:p,elementType:E,pin:h,viewParameter:I,viewType:T}){const{logContextEvent:m}=(0,d.v)(),f=(0,c.E)(),{group:S}=(0,l.tc)("web_search_share_skin_tone_filter")({dangerouslySkipActivation:!0}),{carousel_data:P,id:g}=h;let A,R=`/pin/${i||g}/`;if(P){const{carousel_slots:e=[],id:n,index:i=0}=P;R=`/pin/${g}/`,A={carousel_slot_id:e[i]&&e[i].id,carousel_data_id:n,carousel_slot_index:i}}A={...A||{},...(0,o.Kl)(h,p)||{}};const O=(0,t.Z)({href:R,externalData:{auxData:A,pin:h}});return(0,_.jsx)(s.iP,{mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),(()=>{if(m({event_type:101,component:u||f.componentType,element:E,object_id_str:g,view_type:T||f.viewType,view_parameter:I||f.viewParameter,aux_data:{...p,...(0,o.Kl)(h,p)||{}}}),m({event_type:8948,view_type:T||f.viewType,view_parameter:I||f.viewParameter,component:u||f.componentType,element:E,object_id_str:g,aux_data:{closeup_navigation_type:"click",...p,...(0,o.Kl)(h,p)||{}}}),S){const e=Number(a.y7.getItem(r.J)||0);a.y7.setItem(r.J,e+1)}})(),O({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:R,role:"link",children:n})}},875410:(e,n,i)=>{i.d(n,{Z:()=>s});var t=i(599797),o=i(883119),r=i(785893);const a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function s({pin:e,enableCloseupLink:n}){const{aggregated_pin_data:i}=e,{pin_tags_chips:s}=i||{},l=s&&s.length>=3?s.slice(0,3):[];return(0,r.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:l.map((i=>{var s,l,d,c;const _=(null===(s=i.images)||void 0===s?void 0:s["750x"])||{},u=(0,r.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=_.height)&&void 0!==l?l:1,naturalWidth:null!==(d=_.width)&&void 0!==d?d:1,role:"presentation",src:null!==(c=_.url)&&void 0!==c?c:""});return(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,r.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:n?(0,r.jsx)(t.Z,{sizing:"fullSize",collageChipId:i.id,pin:e,children:u}):u})})})},i.id)}))})}},805251:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(883119),o=i(785893);function r({children:e,additionalStyles:n={}}){return(0,o.jsx)(t.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...n}},children:e})}},670641:(e,n,i)=>{i.d(n,{F:()=>s,Z:()=>l});var t=i(58545),o=i(883119),r=i(785893);const a={impressed:{backgroundColor:"#adebad"}},s=()=>void 0!==(0,t.Z)().debug_impression_log;function l({debugImpressionState:e="paused",slotIndex:n}){return"paused"===e?null:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray",children:(0,r.jsx)(o.xv,{color:"inverse",children:(0,r.jsx)("span",{className:"deprecatedTextSizeXL",children:n})})})})}},606348:(e,n,i)=>{i.d(n,{Z:()=>m});var t=i(667294),o=i(647136),r=i(710159),a=i(883119),s=i(785893);function l(e){const n=(0,r.ZP)(),{onHide:i}=e,t=(0,s.jsx)(a.xv,{children:n._("Thank you for helping improve signal detection on Pinterest!","pinRep.actionBar.signalDetector.toast","Toast text displayed when a user submits a signal for review")});return(0,s.jsx)(o.ZP,{onHide:i,text:t})}var d=i(724207),c=i(456168),_=i(358142);const u=function({anchor:e,onDismiss:n,pinId:i,signals:o}){const u=(0,r.ZP)(),[p,E]=(0,t.useState)(0),h=(0,c.Z)(),{showOneToast:I}=(0,_.F9)();if(!h.isEmployee)return null;const T=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:m,icon_url:f,signal_id:S,signal_message:P}=o[p];return(0,s.jsx)(a.mh,{children:(0,s.jsx)(a.J2,{anchor:e,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,s.jsxs)(a.xu,{padding:4,width:"100%",children:[o.length>1&&(0,s.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,s.jsx)(a.mQ,{activeTabIndex:p,onChange:({event:e,activeTabIndex:n,dangerouslyDisableOnNavigation:i})=>{i(),(({activeTabIndex:e,event:n})=>{n.preventDefault(),E(e)})({activeTabIndex:n,event:e})},tabs:T})}),(0,s.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,s.jsx)(a.X6,{size:"sm",children:u._("Signal detected:","pinRep.actionBar.signalDetector.header","Header for signal detector flyout")})}),(0,s.jsx)(a.xu,{paddingY:3,children:(0,s.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,s.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:f?(0,s.jsx)(a.Ee,{alt:u._("Signal display","pinRep.actionBar.signalDetector.signalAsset","Asset to represent the signal detected"),color:"white",naturalHeight:1,naturalWidth:1,src:f}):(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:m}},height:40,width:40})}),(0,s.jsx)(a.xv,{size:"md",children:P})]})}),(0,s.jsx)(a.xu,{marginBottom:3,children:(0,s.jsx)(a.xv,{size:"md",children:u._("If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.","pinRep.actionBar.signalDetector.instructions","Instructions to the user for how to handle inaccurate detection")})}),(0,s.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,s.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:u._("Send for review","pinRep.actionBar.signalDetector.button.review","Button label for users to send the pin for review"),onClick:()=>{const e={pin_id:i,signal_id:S,user:h.id};d.ZP.create("SignalReviewRequestResource",e).callCreate(),n(),I((({onHide:e})=>(0,s.jsx)(l,{onHide:e})))}}),(0,s.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:u._("Cancel","pinRep.actionBar.signalDetector.button.cancel","Button label for users to cancel"),onClick:n})]})]})})})};var p=i(628613),E=i(53930),h=i(741874),I=i(179869);function T({signals:e,pinId:n}){const{background_color:i,icon_url:o,signal_message:r}=e[0],[l,d]=(0,t.useState)(!1),c=(0,t.useRef)();return(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(E.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,s.jsx)(h.Z,{children:(0,s.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,s.jsx)(p.Z,{children:(0,s.jsx)(I.q,{children:({hovered:e,onMouseEnter:n,onMouseLeave:t})=>(0,s.jsx)(a.iP,{onTap:()=>d((e=>!e)),rounding:"pill",onMouseEnter:n,onMouseLeave:t,children:(0,s.jsxs)(a.xu,{color:e?"darkGray":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:c,children:[(0,s.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"white",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,s.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,s.jsx)(a.Ee,{alt:"",color:i,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,s.jsx)(a.xv,{color:"inverse",size:"md",weight:"bold",children:r})]})})})})})})}),l&&c&&c.current&&(0,s.jsx)(u,{anchor:c.current,onDismiss:()=>d(!1),pinId:n,signals:e})]})}function m({pin:e}){if(!(0,c.Z)().isEmployee)return null;const{id:n,deb_ads:i,deb_content_quality:t,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:a}=e;return i?(0,s.jsx)(T,{pinId:n,signals:i}):t?(0,s.jsx)(T,{pinId:n,signals:t}):o?(0,s.jsx)(T,{pinId:n,signals:o}):r?(0,s.jsx)(T,{pinId:n,signals:r}):a?(0,s.jsx)(T,{pinId:n,signals:a}):null}},932937:(e,n,i)=>{i.d(n,{Z:()=>s});var t=i(883119),o=i(187828),r=i(785893);function a(e,n){return{hidden:{opacity:0,transition:n?`opacity ${n}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function s({children:e,fadeInDuration:n=0,fadeOutDuration:i=o.X,visibility:s}){return"none"!==s&&e?(0,r.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:a(n,i)[s]},children:e}):null}},128240:(e,n,i)=>{i.d(n,{ZP:()=>I});var t=i(667294),o=i(805251),r=i(710159),a=i(834375),s=i(903997),l=i(539195),d=i(883119),c=i(785893);const _={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},u={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},p={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},E=["followed","related","search"],h=["pfy","pfyBoard"];function I({feedbackType:e,isHomefeedTunerVariantExp:n,pin:i,hideContents:I=!1}){var T;const{logContextEvent:m}=(0,l.v)(),f=(0,r.ZP)(),[S,P]=(0,t.useState)(!1),[g,A]=(0,t.useState)(!1);(0,t.useEffect)((()=>P(!0)),[]);const R=()=>A(!0),{feedbackText:O,images:N,showFeedbackOverlay:v,undoAction:y,undoText:x}=i,b=N&&(null===(T=N["236x"])||void 0===T?void 0:T.url),{image:C,subTitle:D,title:L,unfollow:w}=null!=O?O:{},M=!E.includes(e),G=h.includes(e),k=()=>{m({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,c.jsxs)(d.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[b&&(0,c.jsx)(o.Z,{additionalStyles:{..._.base,...S?_.blurred:{},backgroundImage:`url("${b}")`}}),(0,c.jsx)(o.Z,{additionalStyles:{...u.base,...u.blurred}})]}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{...p.base,...!v&&S?p.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!I&&(0,c.jsx)(d.xu,{height:"100%",children:(0,c.jsxs)(d.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(d.xu,{marginBottom:2,children:(0,c.jsx)(d.X6,{color:"light",size:"sm",children:L})}),(0,c.jsxs)(d.xu,{display:"flex",marginBottom:1,children:[C&&(0,c.jsx)(d.xu,{marginEnd:3,children:(0,c.jsx)(d.zd,{width:C.width,height:C.height,rounding:2,wash:!0,children:(0,c.jsx)(d.Ee,{alt:D||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:C.url||""})})}),(0,c.jsx)(d.xv,{color:"light",overflow:"normal",children:D})]}),n?(0,c.jsxs)(t.Fragment,{children:[y&&(0,c.jsx)(d.xu,{children:(0,c.jsx)(d.iP,{onTap:y,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:f._("Undo","Text on the button to navigate to undo hiding a pin","Text on the button to navigate to undo hiding a pin")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!y&&!g&&w&&!G&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,a.t)(w.action,w.actionOptions,R),text:f._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),M&&(0,c.jsx)(d.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:k,text:f._("Tune your feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})]})]}):(0,c.jsxs)(t.Fragment,{children:[(0,c.jsx)(d.xu,{children:M&&(0,c.jsx)(d.rU,{href:"/edit",onClick:k,children:(0,c.jsx)(d.xv,{color:"inverse",weight:"bold",overflow:"normal",children:f._("Tune your home feed","Text on the link to navigate to homefeed control","Text on the link to navigate to homefeed control")})})}),(0,c.jsxs)(d.xu,{marginTop:"auto",children:[!y&&!g&&w&&!G&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:()=>(0,a.t)(w.action,w.actionOptions,R),text:f._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user")}),y&&(0,c.jsx)(d.zx,{fullWidth:!0,color:"white",onClick:y,text:x||f._("Undo","Text on the button to undo hiding a pin","Text on the button to undo hiding a pin")})]})]})]})})})]})}},408479:(e,n,i)=>{i.r(n),i.d(n,{default:()=>T});var t=i(667294),o=i(40142),r=i(369870),a=i(230555),s=i(203695),l=i(819086),d=i(710159),c=i(8858),_=i(11874),u=i(8720),p=i(378351),E=i(713751),h=i(883119),I=i(785893);function T({feedbackData:e,feedbackType:n,pin:i,pinTitle:T,setForcePrimary:m,transparentBackground:f}){const S=(0,d.ZP)(),P=(0,o.useDispatch)(),{viewParameter:g,viewType:A}=(0,E.E)(),{reportPin:R}=(0,p.f)(),[O,N]=(0,t.useState)(!1),[v,y]=(0,t.useState)(),{ad_match_reason:x,show_ad_reasons:b,board:C,category:D,description:L,id:w="",images:M,is_promoted:G,pinner:k,promoter:j,recommendation_reason:B,source_interest:U,videos:F}=i;var H;const Z=(H=G?60:50,function(e){return(0,l.ZP)((e||"").trim(),H)})(null!=L?L:""),V=(0,r.Z)(M,"236x"),W=(0,u.iR)(F),Y=(0,c.Z)(101,{component:0,element:981,object_id_str:w,aux_data:{feedback_type:n}}),z=()=>{b||(m(!1),P((0,_.i0)(w)),N(!1))};return(0,I.jsxs)(t.Fragment,{children:[(0,I.jsx)(h.xu,{"data-test-id":"feedback-button",ref:y,children:(0,I.jsx)(h.hU,{accessibilityLabel:S._("More information","accessibility label for overflow menu button","accessibility label for overflow menu button"),bgColor:f?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{O?z():(m(!0),N(!0)),Y()},size:"sm"})}),O&&(0,I.jsx)(h.xu,{onFocus:e=>e.stopPropagation(),children:(0,I.jsx)(s.Z,{anchor:v,ad_match_reason:x,bestPinImgSrc:(0,a.Z)(i),board:C,feedbackData:e,feedbackType:n,hideDownload:W,isPromoted:G,onLinkClick:()=>{O&&z()},onDismiss:z,onHide:z,onDownloadHideFlyout:()=>{m(!1),N(!1)},pinCategory:D,pinDescription:Z,pinId:w,pinImgSrc:V,pinner:k,pinTitle:T,promoter:j,recommendationReason:B,reportPin:()=>R(i,g,A),sourceInterest:U,viewParameter:g,viewType:A})})]})}},203695:(e,n,i)=>{i.d(n,{Z:()=>j});var t=i(667294),o=i(40142),r=i(144977),a=i(883119),s=i(785893);function l({iconAccessibilityLabel:e,icon:n,linkAccessibilityLabel:i,showNavigationIcon:t,text:o}){return(0,s.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,s.jsx)(r.Z,{id:"ad-reason-icon",children:(0,s.jsx)(a.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:n,iconColor:"darkGray"})}),(0,s.jsx)(a.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,s.jsx)(a.xv,{children:o})}),t&&i&&(0,s.jsx)(a.kC,{direction:"column",justifyContent:"center",children:(0,s.jsx)(a.JO,{accessibilityLabel:i,color:"darkGray",icon:"arrow-forward"})})]})}var d=i(916389),c=i(632589),_=i(710159),u=i(123686),p=i(539195);const{ACCOUNT_SETTINGS:E,CANONICAL_MAIN_URL:h,HELP_BLOCKING:I,HELP_PROMOTED_PINS_URL:T}=c.Z.settings;function m({onDismiss:e,brandName:n,country:i,language:t,isAgeMatched:o,isBehaviorTargetingMatched:c,isCustomerListMatched:m,isGeoPostalCodeMatched:f,isGeoRegionMatched:S,isShoppingTargetingRematched:P}){const{logContextEvent:g}=(0,p.v)(),A=(0,_.ZP)();return(0,s.jsx)(d.ZP,{accessibilityModalLabel:A._("Why am I seeing this Ad?","app.common.react.components.PinRep.components.AdReasonsModal","Modal for explaining the reasons an advertiser is targeting a user"),onDismiss:e,children:(0,s.jsxs)(a.xu,{paddingX:8,paddingY:6,children:[(0,s.jsxs)(a.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,s.jsx)(a.xu,{position:"absolute",left:!0,children:(0,s.jsx)(a.hU,{accessibilityLabel:A._("Close","app.common.react.components.PinRep.components.AdReasonsModal.closeModal","Close ad reasons modal"),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),(0,s.jsx)(a.X6,{align:"center",size:"md",children:A._("Why am I seeing this ad?","Heading for promoted Pins explanation","Heading for promoted pins explanation")})]}),(0,s.jsxs)(a.xu,{children:[(0,s.jsxs)(a.kC,{direction:"column",gap:4,children:[(0,s.jsx)(a.xu,{children:(0,s.jsx)(a.xv,{children:(0,u.nk)(A._("{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}","app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation","text informing the user about who is the advertiser"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name"),learnMoreLink:(0,s.jsx)(r.Z,{id:"ad-reasons-learn-more-link",children:(0,s.jsx)(a.xv,{inline:!0,children:(0,s.jsx)(a.rU,{href:T,inline:!0,onClick:()=>{g({event_type:101,component:13756,element:12057})},target:"blank",children:A._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})}),(0,s.jsx)(a.xu,{marginBottom:4,children:(0,s.jsx)(a.xv,{children:(0,u.nk)(A._("{{ brandName }} is trying to reach people who fit the following criteria:","app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation","text informing the user about who is the advertiser's target audience"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name")})})})]}),(0,s.jsx)(r.Z,{id:"ad-reasons",children:(0,s.jsxs)(a.kC,{direction:"column",flex:"none",gap:4,children:[f||S?(0,s.jsx)(a.iP,{role:"link",href:`${h}${E}`,onTap:()=>{g({event_type:101,component:13756,element:12059})},target:"blank",children:(0,s.jsx)(l,{iconAccessibilityLabel:A._("Icon for ad targeting location","app.common.react.components.PinRep.components.AdReasons.locationIcon","Icon for ad targeting location"),icon:"location",linkAccessibilityLabel:A._("Navigate to account settings","app.common.react.components.PinRep.components.AdReasonRow.icon","An icon for navigating to account settings"),showNavigationIcon:!0,text:(0,u.nk)(A._("Your primary location is in {{countryName}} and your primary language is {{language}}","app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting","Ad explanation for targeting location"),{countryName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-country-name"),language:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-language")})})}):null,o&&(0,s.jsx)(l,{iconAccessibilityLabel:A._("Icon for ad targeting age","app.common.react.components.PinRep.components.AdReasons.ageIcon","Icon for ad targeting age"),icon:"person",text:(0,u.nk)(A._("{{ brandName }} is trying to reach people in your age range","app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting","Ad explanation for targeting age range"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-age-brand-name")})}),c&&(0,s.jsx)(l,{iconAccessibilityLabel:A._("Icon for ad targeting search history","app.common.react.components.PinRep.components.AdReasons.searchIcon","Icon for ad targeting search history"),icon:"search",text:A._("Your Pinterest browsing history and search behavior","app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting","Ad explanation for targeting the search history of the user")}),P&&(0,s.jsx)(l,{iconAccessibilityLabel:A._("Icon for ad targeting customers who interacted with this brand previously","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon","Ad explanation for targeting users who have interacted with an advertiser brand"),icon:"clock",text:(0,u.nk)(A._("You've interacted with {{brandName}} before","app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText","Text explaining the ad reason for targeting users who interacted with brand previously"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"retargeting-ad-reason")})}),m&&(0,s.jsx)(l,{iconAccessibilityLabel:A._("Icon for ad targeting user on an audience list","app.common.react.components.PinRep.components.AdReasons.genderIcon","Icon for ad targeting gender"),icon:"menu",text:(0,u.nk)(A._("You're on an audience list provided by {{brandName}}","app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting","Ad explanation for targeting customer list"),{brandName:(0,s.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-customer-list")})}),(0,s.jsx)(a.xu,{marginBottom:1,children:(0,s.jsx)(a.xv,{children:A._("There could also be more factors not listed here.","app.common.react.components.PinRep.components.AdReasonsModal.miscFactors","Text explaining there are more targeting factors")})})]})}),(0,s.jsxs)(a.kC,{direction:"column",gap:1,children:[(0,s.jsx)(a.xu,{marginBottom:3,marginTop:3,children:(0,s.jsx)(a.iz,{})}),(0,s.jsx)(a.xu,{marginBottom:1,marginTop:1,children:(0,s.jsx)(a.X6,{size:"sm",children:A._("I don't want to see this ad","app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading","Text for explaining how to hide an ad")})}),(0,s.jsx)(a.xu,{marginBottom:4,children:(0,s.jsx)(a.xv,{children:(0,u.nk)(A._("If you don't want to see ads from a specific advertiser you can block the advertiser's Pinterest profile. {{learnMoreLink}}","app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText","Text explaining how to block an advertiser profile"),{learnMoreLink:(0,s.jsx)(a.xv,{inline:!0,children:(0,s.jsx)(a.rU,{inline:!0,href:I,onClick:()=>{g({event_type:101,component:13756,element:12058})},target:"blank",children:A._("Learn more","app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink","Learn more link for info about the reasons an ad is shown")})},"ad-reasons-learn-more-link")})})})]})]})]})})}var f=i(379771),S=i(456168),P=i(952733);function g({pinId:e,onDismiss:n}){var i,r,a,l;const{logContextEvent:d}=(0,p.v)(),{locale:c}=(0,P.B)(),{country:_=""}=(0,S.Z)(),u=(0,f.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),E=(0,f.Z)({name:"LocalesResource"}),h=(0,o.useSelector)((({pins:n})=>n[e]));(0,t.useEffect)((()=>{d({event_type:120,component:13756})}),[d]);const{ad_targeting_attribution:I,promoter:T}=null!=h?h:{},{is_age_matched:g=!1,is_behavior_targeting_matched:A=!1,is_customer_list_matched:R=!1,is_geo_postal_code_matched:O=!1,is_geo_region_matched:N=!1,is_shopping_retargeting_matched:v=!1}=null!==(i=function(e=null,n=4){return e&&Object.keys(e).filter((n=>"boolean"==typeof e[n])).slice(0,n).reduce(((n,i)=>({...n,[i]:e[i]})),{})}(I))&&void 0!==i?i:{},y=null!==(r=null==T?void 0:T.full_name)&&void 0!==r?r:"",x=function(e,n){var i;const{name:t=""}=null!==(i=e.find((e=>e.key===n)))&&void 0!==i?i:{};return t}(null!==(a=u.data)&&void 0!==a?a:[],_),b=function(e,n){var i;const{name:t=""}=null!==(i=e.find((e=>e.key===n)))&&void 0!==i?i:{};return t}(null!==(l=E.data)&&void 0!==l?l:[],c);return(0,s.jsx)(m,{brandName:y,country:x,language:b,isAgeMatched:g,isBehaviorTargetingMatched:A,isCustomerListMatched:R,isGeoPostalCodeMatched:O,isGeoRegionMatched:N,isShoppingTargetingRematched:v,onDismiss:n})}var A=i(248240),R=i(813973),O=i(394465),N=i(30813),v=i(887196),y=i(879268),x=i(778423),b=i(656831),C=i(716975),D=i(11874),L=i(834375),w=i(925927);function M(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}const G={color:"white",textDecorationColor:"white"};class k extends t.Component{constructor(e){super(e),M(this,"getRecommendationDescription",(()=>{const{ad_match_reason:e,board:n,feedbackType:i,pinner:t,promoter:o,recommendationReason:r,sourceInterest:a}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:n,feedbackType:i,makeNavigateLink:this.makeNavigateLink,pinner:t,promoter:o,recommendationReason:r,sourceInterest:a})})),M(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:n,pinner:i,recommendationReason:t}=this.props;if("followed"!==n&&"pfyBoard"!==n)return null;let o,r,l;return i&&i.explicitly_followed_by_me?(o=i.image_small_url,r="50%",l=`/${i.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",l=t&&t.board&&t.board.url||e.url),o?(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden",children:(0,s.jsx)(a.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,s.jsx)(a.zd,{height:40,wash:!0,width:40,children:(0,s.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),M(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:n,pinner:i,sourceInterest:t}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:n,makeNavigateLink:this.makeNavigateLink,pinner:i,sourceInterest:t})})),M(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._("Follow again","Caption for button to undo a unfollowing of a topic","Caption for button to undo a unfollowing of a topic"):"")),M(this,"feedbackHelpers",(0,C.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:u.nk})),M(this,"makeNavigateLink",((e,n,i,t)=>{const o={display:"inline",...t?G:{}};return(0,s.jsx)(a.rU,{onClick:this.props.onLinkClick,role:"link",href:n,inline:!0,children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o},children:i})},e)})),M(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._("Report Pin","Report a pin in the dropdown","Report a pin in the dropdown"),description:this.props.i18n._("This goes against Pinterest's community guidelines","Description for the report pin option","Description for the report pin option"),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),M(this,"hidePinOption",(e=>{const{feedbackData:n,feedbackType:i,pinId:t,recommendationReason:o}=this.props,r="search"===i?973:982,{action:a,actionOptions:s}=this.feedbackHelpers.getHidePinAction({feedbackData:n,feedbackType:i,pinId:t,recommendationReasonId:o&&o.reason&&x.ReasonToChoose[o.reason],pinFeedbackType:"pfy"===i?4:10,throughId:o&&(0,C.yl)(o),throughProperties:o&&(0,C.XZ)(o),clientTrackingParams:(0,A.Z)(t)}),l=this.props.i18n._("Hide Pin","message displayed in pin feedback list","message displayed in pin feedback list");return{action:a,actionOptions:s,feedbackText:this.pinHiddenFeedbackText(e),text:l,description:this.props.i18n._("See fewer Pins like this","Description for the hide pin option","Description for the hide pin option"),elementType:r}})),M(this,"stopRecommendationOption",(()=>{const{feedbackData:e,feedbackType:n,pinId:i,recommendationReason:t}=this.props,{board:o,reason:r}=null!=t?t:{},a=r&&x.ReasonToChoose[r],s=t&&(0,C.yl)(t),l=t&&(0,C.XZ)(t),d="pfyBoard"===n,{action:c,actionOptions:_}=this.feedbackHelpers.getHidePinAction({feedbackData:e,feedbackType:n,pinId:i,recommendationReasonId:a,pinFeedbackType:d?2:4,throughId:s,throughProperties:l,clientTrackingParams:(0,A.Z)(i)}),p=o?this.makeNavigateLink("boardUrl",o.url,o.name,!0):"";return{action:c,actionOptions:_,feedbackText:{subTitle:d&&o?(0,u.nk)(this.props.i18n._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:p}):this.props.i18n._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin","message displayed after stopping recommendations from a pin")},text:d&&o?(0,u.nk)(this.props.i18n._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:o.name}):this.props.i18n._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin","Feedback option to stop recommendations inspired by this Pin"),elementType:284}})),M(this,"unfollowBoardOption",(()=>{var e,n;const{board:i}=this.props,t=i?this.makeNavigateLink("boardUrl",null!==(e=i.url)&&void 0!==e?e:"",null!==(n=i.name)&&void 0!==n?n:"",!0):"",o=(0,u.nk)(this.props.i18n._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:null==i?void 0:i.name}),r=(0,u.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:t});return{action:"unfollowBoard",actionOptions:{board_id:null==i?void 0:i.id},feedbackText:{title:"",subTitle:r},text:o,description:(0,u.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board","Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:null==i?void 0:i.name}),elementType:10614}})),M(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:n,name:i="",url_name:t=""}=e,o=`/topics/${t}`,r=this.makeNavigateLink("topicUrl",o,i,!0),a=(0,u.nk)(this.props.i18n._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:i}),s=(0,u.nk)(this.props.i18n._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic","Confirmation text after unfollowing a topic"),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:y.X},feedbackText:{title:"",subTitle:s},text:a,description:(0,u.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic","Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:e.name}),elementType:976}}return null})),M(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:n,username:i,full_name:t}=null!=e?e:{},o=`/${i}`,r=e?this.makeNavigateLink("pinnerUrl",o,null!=t?t:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:n},feedbackText:{title:"",subTitle:(0,u.nk)(this.props.i18n._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedUser:r})},text:(0,u.nk)(this.props.i18n._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:t}),description:this.props.i18n._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}})),M(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._("Download image","Button to download Pin image","Button to download Pin image"),elementType:10836}))),M(this,"_pinFeedbackText",(()=>{const{location:e,feedbackType:n,hideDownload:i,pinner:t}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),a=(o||"topic"===n)&&!r,s=this.hidePinOption(a),l=this.reportPinOption(),d="promoted"!==n&&!i;switch(n){case"followed":const e=r,i=!e&&this.getRecommendationDescription(),o=null!=t&&t.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...i?{description:i}:{},options:[s,...a||e?[o]:[],..."promoted"!==n?[this.downloadPinOption()]:[],l]};case"promoted":const{pinId:c,showAdReasonsModal:_}=this.props,u=[s,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._("Why am I seeing this ad?","app.common.react.components.PinFeedbackDropdown.adReasonText","Text to promoted pins explanation modal"),callback:()=>{_(c)}},l];return{description:this.getRecommendationDescription(),options:u};case"topic":const p=this.unfollowTopicOption(),E=[s,...a&&p?[p]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:E};case"pfy":case"pfyBoard":const h=[s,..."pfyBoard"===n?[this.stopRecommendationOption()]:[],...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:h};default:const I=[s,...d?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:I}}})),M(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:n,promoter:i}=this.props,t=e?null:this.getUnfollowAction();return n&&null!=i&&i.full_name?{title:"",subTitle:(0,u.nk)(this.props.i18n._("{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.","webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle","Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin."),{promoter:i.full_name})}:t?{title:"",subTitle:this.getRecommendationDescription(),unfollow:t}:{title:"",subTitle:this.props.i18n._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}}));const n=this._pinFeedbackText();this.state={pinFeedbackConfig:n,showSecondary:!1}}onPinFeedbackActionButtonClick(e,n,i){e.stopPropagation(),n.auxData?this.handleClickLogging(n.elementType,n.auxData):this.handleClickLogging(n.elementType),(0,L.t)(n.action,n.actionOptions,i)}onPinHide(e,n,i,t){const{hidePinFeedback:o,onHide:r,pinId:a,showPinFeedback:s,showPinFeedbackOverlay:l,showPinFeedbackUndo:d,viewParameter:c,viewType:_,logContextEvent:u}=this.props;n&&i&&t?d(a,e,(0,C.EF)(i,t,a,_,c,o,u),this.getUndoText(t)):s(a,e),!i||i.promoted||10!==i.feedback_type&&4!==i.feedback_type?r():(this.setState({showSecondary:!0}),l(a))}handleClickLogging(e,n={}){const{feedbackType:i,viewParameter:t,viewType:o,logContextEvent:r}=this.props;r({event_type:101,view_type:o,view_parameter:t,element:e,component:(0,C.nb)(i),aux_data:{...n}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:n,pinId:i,viewType:t,viewParameter:o,logContextEvent:r,isWindowsPwa:l}=this.props,{pinFeedbackConfig:d}=this.state,{options:c}=d,_=[],u=c.length;for(let p=0;p<u;p+=1){const d=c[p],u=L.P.includes(d.action),E=d.callback?d.callback:()=>this.onPinHide(d.feedbackText,u,d.actionOptions,d.action);if("downloadPin"!==d.action){const e=(0,O.Z)({url:d.link||""});let n="";Array.isArray(d.text)?n=d.text.join(""):"string"!=typeof d.text&&"number"!=typeof d.text||(n=d.text.toString()),_.push(d.link?(0,s.jsx)(a.Lt.Link,{href:d.link,isExternal:e,option:{value:d.action||"",label:n},dataTestId:d.dataTestId||""}):(0,s.jsx)(a.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,d,E),option:{value:d.action||"",label:n},dataTestId:d.dataTestId||""}))}else if(!e&&!1===l){const{bestPinImgSrc:e,pinTitle:l,pinDescription:d,pinCategory:c}=this.props;_.push((0,s.jsx)(a.Lt.Item,{onSelect:()=>{(0,R.Z)({category:c,filename:l||d,imageDownloadSuccessCallback:()=>{n&&n()},imgSrc:e,pinId:i,viewParameter:o,viewType:t},r)},option:{value:"downloadImage",label:this.props.i18n._("Download image","pinRep.pinFeedbackDropdown.downloadImage","Label to download the pin image")}}))}}return _}render(){const{pinFeedbackConfig:e,showSecondary:n}=this.state,{anchor:i,onDismiss:o,feedbackData:r,feedbackType:l,hideAdReasonsModal:d,pinId:c,onHide:_,recommendationReason:u,showAdReasons:p,viewParameter:E,viewType:h}=this.props,{description:I}=e,T=this.getRecommendationDescriptionImage();return(0,s.jsxs)(t.Fragment,{children:[n?(0,s.jsx)(N.Z,{anchor:i,feedbackData:r,feedbackType:l,pinId:c,onDismiss:o,onHide:_,recommendationReason:u,viewParameter:E,viewType:h}):(0,s.jsx)(a.Lt,{anchor:i,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:v.lI,headerContent:I&&(0,s.jsxs)(a.kC,{alignItems:"center",children:[(0,s.jsx)(a.xu,{"data-pin-recommendation-reason":null==u?void 0:u.reason,maxHeight:56,overflow:"hidden",children:(0,s.jsx)(a.xv,{color:"default",overflow:"normal",size:"md",children:I})}),T]}),children:this.renderButtons()}),p&&(0,s.jsx)(g,{onDismiss:()=>d(c),pinId:c})]})}}const j=(0,o.connect)(null,(e=>({hidePinFeedback:n=>e((0,D.I1)(n)),showPinFeedback:(n,i)=>e((0,D.ZP)(n,i)),showPinFeedbackOverlay:n=>e((0,D.Ib)(n)),showPinFeedbackUndo:(n,i,t,o)=>e((0,D.NA)(n,i,t,o)),showAdReasonsModal:n=>e((0,D.b9)(n)),hideAdReasonsModal:n=>e((0,D.yj)(n))})))((function(e){const{logContextEvent:n}=(0,p.v)(),i=(0,_.ZP)(),{ad_targeting_attribution:t,show_ad_reasons:r=!1}=(0,o.useSelector)((({pins:n})=>n[e.pinId])),a=(0,b.kf)();return(0,s.jsx)(k,{...e,showAdReasons:r,adTargetingAttribution:t,history:(0,w.k6)(),i18n:i,isWindowsPwa:a,location:(0,w.TH)(),logContextEvent:n})}))},30813:(e,n,i)=>{i.d(n,{Z:()=>u});var t=i(710159),o=i(834375),r=i(883119),a=i(887196),s=i(123686),l=i(778423),d=i(539195),c=i(716975),_=i(785893);function u({anchor:e,feedbackData:n,feedbackType:i,pinId:u,onDismiss:p,onHide:E,recommendationReason:h,viewParameter:I,viewType:T}){const{logContextEvent:m}=(0,d.v)(),f=(0,t.ZP)(),S=(0,c.ZP)({i18n:f,interpolateNamedTemplate:s.nk}),P=(e,t)=>{const r=h&&h.reason&&l.ReasonToChoose[h.reason],a=h&&(0,c.yl)(h),s=h&&(0,c.XZ)(h),{action:d,actionOptions:_}=S.getHidePinAction({feedbackData:n,feedbackType:i,pinId:u,recommendationReasonId:r,throughId:a,throughProperties:s,complaintReason:e});(e=>{m({event_type:101,view_type:T,view_parameter:I,element:e,component:(0,c.nb)(i)})})(t),(0,o.t)(d,_),E()},g="promoted"===i?[{text:f._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:f._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:11172},{text:f._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898}]:[{text:f._("Not relevant to me","homefeed.hideReasons.reason.notRelevant","Feedback option for Pin that is not relevant"),reason:10,elementType:1296},{text:f._("Not in a language I understand","homefeed.hideReasons.reason.languageDontUnderstand","Feedback option for Pin that is in a language I dont understand"),reason:15,elementType:11178},{text:f._("Seen Pin too many times","homefeed.hideReasons.reason.seenTooMany","Feedback option for Pin that has been seen too many times"),reason:3,elementType:295},{text:f._("Blurry or pixelated image","homefeed.hideReasons.reason.lowQualityPicture","Feedback option for Pin with low quality picture"),reason:13,elementType:10898},{text:f._("Other","homefeed.hideReasons.reason.other","Feedback option for Pin hidden for other reasons"),reason:8,elementType:11179}];return(0,_.jsx)(r.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:a.lI,id:"pin-action-dropdown",children:(0,_.jsx)(r.Lt.Section,{label:f._("Got a moment? Tell us why.","homefeed.hideReasons.title","Title of follow up question after negative Pin feedback"),children:g.map((({text:e,reason:n,elementType:i})=>(0,_.jsx)(r.Lt.Item,{onSelect:()=>P(n,i),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},98775:(e,n,i)=>{i.d(n,{Z:()=>p});var t=i(667294),o=i(294184),r=i.n(o),a=i(443109),s=i(394465),l=i(514183),d=i(710159),c=i(883119),_=i(785893);class u extends t.Component{constructor(...e){var n,i,t;super(...e),t={showBoardName:!1},(i="state")in(n=this)?Object.defineProperty(n,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[i]=t}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:n,isNewlySaved:i,name:o,shouldUseLegoStyles:d,type:u,url:p}=this.props;if(d&&n)return null;const E="boardless"===u?this.props.i18n._("Saved to Profile","Saved.render.title","Text indicating saved to your profile"):o;let h,I;if(!i||e||d){const e=d?(0,_.jsx)(c.xv,{color:"inverse",size:"lg",weight:"bold",children:E.length<=20?E:(0,l.Z)(E,20)}):(0,_.jsx)(c.X6,{color:"inverse",size:"400",lineClamp:1,children:E}),n=(0,s.Z)({url:p})?"nofollow":"none";h=p?(0,_.jsx)(c.rU,{rel:n,href:p,children:e}):e}else h=(0,_.jsx)(c.xv,{color:"inverse",children:(0,_.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._("Saved!","Indication that a pin has been saved","Indication that a pin has been saved")})});return i&&(I=e?"board":"saved"),(0,_.jsxs)(t.Fragment,{children:[(0,_.jsx)(a.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,_.jsx)("div",{"data-test-id":"savedInfo",className:!d&&r()("SavedAnimation",I),children:h})]})}}const p=function(e){const n=(0,d.ZP)();return(0,_.jsx)(u,{...e,i18n:n})}},285392:(e,n,i)=>{i.d(n,{Y:()=>s,Z:()=>_});var t=i(710159),o=i(539195),r=i(883119),a=i(785893);const s=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],l={component:210,view_type:4,view_parameter:3106},d={view_type:5,view_parameter:3069},c={component:13668,view_type:4,view_parameter:3106};function _({pinId:e,surface:n}){const{logContextEvent:i}=(0,o.v)(),_=(0,t.ZP)(),u=()=>{const e=s.includes(n)?c:"BaseBoardPinGrid"===n?d:"UserProfilePinGrid"===n?l:{};i({event_type:101,element:10573,...e})},p=_._("See more stats","pinRep.actionBar.seeStatsButton","Button that will re-direct user to detailed stats page");return(0,a.jsx)(r.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:s.includes(n)?(0,a.jsx)(r.zx,{role:"link",accessibilityLabel:_._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This button will take the user to their detailed pin stats page for the pin"),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:u,size:"sm",text:(E=p,E.length>14?`${E.substring(0,12).trim()}...`:E)}):(0,a.jsx)(r.hU,{role:"link",accessibilityLabel:_._("Go to pin stats details page","pinRep.actionBar.seeStatsButton","This icon button will take the user to their detailed pin stats page for the pin"),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:u,size:"sm"})});var E}},588028:(e,n,i)=>{function t(e,n){const i=n&&n.owner&&n.owner.id;return e.isAuth&&i===e.id}i.d(n,{Z:()=>t})},238235:(e,n,i)=>{i.d(n,{Z:()=>o});var t=i(475559);function o(e){return t.zI.includes(e)}},578895:(e,n,i)=>{i.d(n,{Z:()=>oe});var t=i(667294),o=i(40142),r=i(235198),a=i(377097),s=i(475559);function l({isGroupBoard:e,pin:n,surface:i}){const{carousel_data:t,grid_title:o,rich_summary:r,title:l}=n,{isOwnPin:d,isPromoted:c}=(0,a.Z)(n);if(t){const{carousel_slots:e=[],index:n=0}=t;if(e[n]&&e[n].title)return e[n].title.trim()}if(c){if(s.ZF.includes(i))return o||"";if(d&&!e&&!t&&"UserProfilePinGrid"!==i)return"";const n=r&&"mobile application"!==r.type_name&&r.display_name;return l||n||o||""}return o||""}var d=i(8720);const c=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var _=i(706713),u=i(235744),p=i(238098);const E=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function h({attributionOption:e,board:n,contentType:i,experimentsClient:t,feedbackData:o,feedbackType:r,hasCarouselData:s,inMsgPinCardUpdateExp:d=!1,isGroupBoard:c,isORBACProfileManager:h,isOwnBoard:I,pin:T,searchResultNewIdeaPinStyle:m=!1,showImageOnly:f,showNativeReactions:S,showPromotedShoppingPrice:P,surface:g,viewer:A}){var R;const{isPromoted:O,isSponsored:N}=(0,a.Z)(T),{pin_note:v}=T,y=function({attributionOption:e,feedbackType:n,isGroupBoard:i,pin:t,showImageOnly:o,surface:r,inMsgPinCardUpdateExp:a=!1}){const{is_downstream_promotion:s,native_creator:l,promoter:d,sponsorship:c,story_pin_data_id:_}=t;if("promoted"===n||d&&!s||c)return"default";if((!a||"ConversationView"!==r)&&E.includes(r))return"none";if(i)return"none";let u="default";return"SearchItem"===r&&_?u:(e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"followed"!==n||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?u:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":l?"default":"none":u)}({attributionOption:e,feedbackType:r,isGroupBoard:c,pin:T,showImageOnly:f,surface:g,inMsgPinCardUpdateExp:d}),x=f?"":l({isGroupBoard:c,pin:T,surface:g}),b=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(g)&&!O&&!f&&Boolean((0,_.Z)(T,g)),C=["ShoppingGridShippedMetadataWithVisitButton"].includes(g),D="BaseBoardPinGrid"===g&&v?null===(R=v.text)||void 0===R?void 0:R.trim():null,L=O,w="shopping"===i,M=/ShoppingSquareGridRelatedProducts/.test(g);let G=2;O?G=3:(b||"none"!==y)&&(G=w||M?2:1);let k,j,B,U;if(w||(O&&M||P)){var F,H;const e=null===(F=T.rich_summary)||void 0===F||null===(H=F.products)||void 0===H?void 0:H[0],{offer_summary:n}=e||{};k=n?n.standard_price:void 0,j=n?n.price||n.max_price:void 0}if(w&&!O){var Z,V,W;const{rating_count:e,rating_value:n,review_count:i}=(null===(Z=T.rich_summary)||void 0===Z?void 0:Z.aggregate_rating)||{};(e||i)&&parseFloat(n)&&(B={count:e||i,rating:n}),U=null===(V=T.rich_metadata)||void 0===V||null===(W=V.products)||void 0===W?void 0:W[0].shipping_info}const Y=(0,p.rh)(T,A,t),z="CreatorProfileStoryPinGrid"===g||"CreatorProfileActivityPinGrid"===g,K=!z,X=c&&!N;return{attributionDisplay:m?"overlay":"default",attributionType:y,board:n,contentType:i,feedbackData:o,feedbackType:r,pinNoteText:D,pinTitle:x,productCurrentPrice:j,productOriginalPrice:k,productRating:B,productShipping:U,reactionAlignment:m?"center":"start",showCarouselEllipsis:s,showFavoriteButton:!h&&("BaseBoardPinGrid"===g&&I||Boolean((null==n?void 0:n.is_collaborative)&&(0,u.Z)({board:n,viewer:A})))&&!z,showGroupBoardAvatar:X,showNativeReactions:S,showOverflowMenu:L,showPinStats:Y,showSource:b,showTextContent:K,showTitle:!m,showVerifiedIcon:!!m,showVisitSiteButton:C,titleLines:G}}var I=i(620831),T=i(982844),m=i(20814),f=i(134413),S=i(388481);const P=["ShoppingCatalogsProductsMetadata"];const g=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],A=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var R=i(588028),O=i(53930),N=i(866104),v=i(497959),y=i(629037),x=i(584230),b=i(22192),C=i(622263),D=i(309892),L=i(238235),w=i(741874),M=i(710159),G=i(625983),k=i(385894),j=i(456168),B=(i(883119),i(285392)),U=i(483050),F=i(251890),H=i(406335),Z=i(4216),V=i(713751),W=i(727853),Y=i(673504),z=i(715342),K=i(227447),X=i(49231),q=i(670641),$=i(112978),J=i(907683),Q=i(925927),ee=i(785893);const ne=(0,t.lazy)((()=>Promise.all([i.e(97270),i.e(69965),i.e(15833),i.e(92982)]).then(i.bind(i,755255)))),ie=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],te=["BaseBoardPinGrid","UserProfilePinGrid",...B.Y];const oe=(0,o.connect)((function({boards:e,pins:n},{pin:i,pinId:t}){const o=n[t]||i,r=o.board&&o.board.id,a=(r?e[`${r}`]:void 0)||o.board;return o.grid_title=o.grid_title||i.grid_title,{board:a,reduxPin:o}}),(()=>({})))((function({attributionOption:e,blockClickEvents:n,board:i,debugImpressionState:_,feedbackOptions:u,imageOnlyOption:E="default",pinImageCrop:B,pinImageFit:oe,reduxPin:re,resolution:ae="default",saveButtonOptions:se,surface:le,trackingParameters:de,...ce}){var _e,ue;const pe=(0,M.ZP)(),Ee=(0,Y.Y)(),{collaborated_by_me:he,collaborator_count:Ie,is_collaborative:Te}=i||{},{is_quick_promotable:me,pinner:fe,showFeedback:Se,sponsorship:Pe,story_pin_data_id:ge}=re,{isPromoted:Ae}=(0,a.Z)(re),Re=(0,C.Z)(re),Oe=(0,j.Z)(),Ne=(0,G.Z)(),{anyEnabled:ve}=(0,$.tc)("web_m10n_business_access_orbac_beta_2")(),ye=(0,$.tc)("dweb_search_results_idea_attribution"),{group:xe}="SearchItem"===le?ye():{},be=!!ge&&["enabled_blended","enabled_idea","employees"].includes(xe),Ce=(0,Q.TH)(),{slotIndex:De,viewParameter:Le}=de,{anyEnabled:we}=(0,$.aq)("web_repin_flow",["AuthHomefeed","BaseBoardPinGrid"].includes(le)),Me=(0,K.x)(),{appUI:{videosAutoplaying:Ge}}=(0,W.I)(),ke=(0,F.i8)(re.id,Ge),je=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},Be=(0,b.Z)(re),Ue=(0,y.Z)(re),Fe=Oe.isAuth&&Oe.isEmployee,He=Oe.isAuth&&((0,x.Z)(null,Oe)||(0,D.Z)(null,Oe))&&!Oe.isPartner;let Ze=He;"TodayArticleFeed"===le&&(Ze=!1),"default"!==E&&(Ze="image-only"===E),(0,L.Z)(le)&&(Ze=!1),"ShoppingSquareGridDomainNoMetadata"===le&&(Ze=!0),Ae||ge||!["enabled_blended","employees"].includes(xe)||(Ze=!0);let Ve=e;He&&!Ve&&(Ve="image-only");const We=(0,v.Z)({feedbackOptions:u,pin:re,viewParameter:Le},pe),{data:Ye}=u||{},ze="number"==typeof Ie&&Ie>0||Te;let Ke=!1;"OtherProfilePinGrid"===le?Ke=!0:"BaseBoardPinGrid"===le?Ke="dense"===(null==Me?void 0:Me.boardPinDensity):"UserProfilePinGrid"===le&&(Ke="dense"===(null==Me?void 0:Me.profilePinDensity));const Xe=Boolean(ze&&"BaseBoardPinGrid"===le),qe=(0,k.Z)(),$e=(0,o.useSelector)((({users:e})=>{var n,i,t,o;return e&&e[null!==(n=null===(i=qe.data)||void 0===i?void 0:i.id)&&void 0!==n?n:""]?e[null!==(t=null===(o=qe.data)||void 0===o?void 0:o.id)&&void 0!==t?t:""]:qe.data})),Je=(0,R.Z)(Oe,i);let Qe=!1;if(!!(0,Q.LX)(Ce.pathname,{path:"/:username/_created/",exact:!0}))Qe=(0,H.q6)(Oe,null==$e?void 0:$e.id,Ne);else if((0,J.am)(Ce)||(0,J.OJ)(Ce)){const e=i&&i.owner&&i.owner.id||"";Qe=(0,H.q6)(Oe,e,Ne)}const en=Boolean(Oe.isAuth&&fe&&fe.id===Oe.id),nn=Boolean(he||ze&&Je),tn=Oe.isAuth&&Oe.isPartner,on=(0,$.aq)("web_deleted_idea_pins",!(null===(_e=re.story_pin_data)||void 0===_e||!_e.is_deleted)).anyEnabled,rn=(0,t.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:n,surface:i}){const t={primaryContent:null,secondaryContent:null,actionBar:A.includes(i)||n?"none":"visible",accessoryContent:e?"visible":"none"};return n||g.includes(i)?(t.primaryContent="none",t.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(i)&&(t.primaryContent="visible"),t}({hasCarouselData:Ue,isDeletedStoryPin:on,surface:le})),[Ue,on,le]),an=(0,t.useMemo)((()=>function({board:e,isDenseView:n,isGroupBoard:i,isInlineBetterSave:t,isOwnBoard:o,isORBACProfileManager:r,isQuickPromotable:a,isRemovable:l,saveButtonOptions:d,surface:c,viewer:_,viewerIsCollaborator:u}){const p=_.isAuth?_.boardCount:void 0;let E=d||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);a?E={type:"promote"}:(u||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(c))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(c)?E={type:"classic"}:(u||o)&&["BaseBoardPinGrid"].includes(c)&&null!=e&&e.name&&e.url&&e.id&&(E={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return t&&(E={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===c}),(l||P.includes(c)||r)&&(E={type:"none"}),{board:e,derivedSaveButtonOptions:E,showLikeButton:u&&i&&s.UP.includes(c),supportsReactionBar:!n}}({board:i,isInlineBetterSave:we,isDenseView:Ke,isGroupBoard:Xe,isOwnBoard:Je,isOwnPin:en,isORBACProfileManager:Qe,isQuickPromotable:me,isRemovable:Re,saveButtonOptions:se,surface:le,viewer:Oe,viewerIsCollaborator:nn})),[i,we,Ke,Xe,Je,en,Qe,me,Re,se,le,Oe,nn]),{anyEnabled:sn}=(0,$.tc)("web_shopping_grid_metadata_ratings_shipping")({dangerouslySkipActivation:!0});let ln;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridRelatedProducts"].includes(le)&&!Ae&&(ln="white");const dn=(0,t.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:n,surface:i}){return{allowProductCarousel:e,allowShoppingPriceIndicator:s.Wv.includes(i),shoppingLabelColor:n}}({allowProductCarousel:Be,shoppingLabelColor:ln,surface:le})),[Be,ln,le]),cn=(0,t.useMemo)((()=>function({board:e,feedbackData:n,feedbackType:i,isDenseView:t,isGroupBoard:o,isOwnBoard:s,isORBACProfileManager:_,isORBACBeta2:u,pin:p,surface:E,viewer:h}){var I;const{isOwnPin:T,isPromoted:m}=(0,a.Z)(p),f=l({isGroupBoard:o,pin:p,surface:E}),S=e&&(0,r.Z)({action:4,board:e,viewer:h})||T,P=p.savedInfo&&p.savedInfo.localPinId,g=Boolean(s&&!o||"UserProfilePinGrid"===E&&S||P),A=Boolean(o&&S||g||_&&(!(0,d.hy)(p)||u)),R=Boolean((null==e?void 0:e.is_collaborative)||g),O=!(m||s||o||c.includes(E)||_),N="CloseupRelatedProducts"!==E&&!_,{tracked_link:v,link:y}=p,x=!(null===(I=null!=v?v:y)||void 0===I||!I);let b=o&&t?"equally-spaced":"default",C="default";return t&&(C=o?"icon-only":"truncated-text"),t&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(E)&&(C="icon-only",b="equally-spaced"),{actionBarEditBeforeShare:R,feedbackData:n,feedbackType:i,layout:b,pinTitle:f,showEditButton:A,showOverflowMenu:O,showShareButton:N,showSourceLinkButton:x,sourceLinkStyle:C}}({board:i,feedbackData:Ye,feedbackType:We,isDenseView:Ke,isGroupBoard:Xe,isOwnBoard:Je,isORBACProfileManager:Qe,isORBACBeta2:ve,pin:re,surface:le,viewer:Oe})),[i,Ye,We,Ke,Xe,Je,Qe,ve,re,le,Oe]),_n=!Qe&&(0,p.rh)(re,Oe,Ee)&&te.includes(le)&&en,un=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(le),pn=!Ae&&un?"shopping":"standard",En="CreatorProfileStoryPinGrid"===le?en&&(0,U.J6)(re,on):(0,U.J6)(re,on),hn=(0,$.tc)("web_ag_msg_pin_card_update"),In="ConversationView"===le&&hn({dangerouslySkipActivation:!0}).anyEnabled,Tn=(0,t.useMemo)((()=>h({attributionOption:Ve,board:i,contentType:pn,experimentsClient:Ee,feedbackData:Ye,feedbackType:We,hasCarouselData:Ue,inMsgPinCardUpdateExp:In,isGroupBoard:Xe,isORBACProfileManager:Qe,isOwnBoard:Je,pin:re,searchResultNewIdeaPinStyle:be,showImageOnly:Ze,showNativeReactions:En,showPromotedShoppingPrice:sn&&Ae&&un,surface:le,viewer:Oe})),[Ve,i,pn,Ee,Ye,We,Ue,In,Xe,Qe,Je,Ae,un,re,be,sn,Ze,En,le,Oe]),mn=!!re.story_pin_data_id,fn=re.created_at?new Date(re.created_at):null,Sn=(0,z.pN)({isOwnPin:en,isStoryPin:mn,pinCreationDate:fn,surface:le});let Pn=Boolean(Tn.pinTitle||Tn.contentType||Tn.userNote||Tn.showSource||"none"!==Tn.attributionType||Tn.showNativeReactions||Tn.productCurrentPrice||Tn.productOriginalPrice||Tn.showPinStats)||Xe;"BaseBoardPinGrid"===le&&Je&&tn||Pe?Pn=!0:ie.includes(le)||Ke&&(Je||he)?Pn=!1:en||"CreatorProfileStoryPinGrid"!==le&&"CreatorProfileActivityPinGrid"!==le||(Pn=!1);const gn=Boolean(Se),An=(0,$.tc)("web_others_board_feed_ads_border"),Rn={showNoPinBorderRadius:"TopicBestPinNarrow"===le||"TopicBestPinWide"===le||In&&"ConversationView"===le,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===le&&Ae&&An().anyEnabled,shouldUseLegoWash:!0},{anyEnabled:On}=(0,$.aq)("hfp_homefeed_control_cta_variants"),Nn={feedbackType:We,isHomefeedTunerVariantExp:On},{anyEnabled:vn}=(0,$.tc)("ads_desktop_video_ads")({dangerouslySkipActivation:!0}),yn=(0,t.useMemo)((()=>function({hasCarouselData:e,isDenseView:n,isSocialSeasonalBoard:i,pinImageCrop:t,pinImageFit:o,resolution:r,showPromotedVideos:a,surface:l}){const d=s.zl.includes(l);let c="backend";"CloseupRelatedProducts"===l?c={height:S.GZ,width:S.OE}:"TopicBestPinWide"===l?c={height:f.m9,width:f.BS}:"TopicBestPinNarrow"===l?c={height:f._5,width:f.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(l)||d?c={height:S.zX,width:S.zX}:t&&(c=t);let _="none",u=null!=r?r:"default";"string"!=typeof c&&(_="cover",(d||"ShoppingDynamicHeightGrid"===l&&!o||"ShoppingSquareGridDomainNoMetadata"===l)&&(_="contain",u="high-res"));const p=d||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",E=(0,T.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===m.Xb.getItem(I.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:p,imageFit:_,isDenseView:n,isSocialSeasonalBoard:i,resolution:u,rootMargin:E,pinImageCrop:c,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:a}}({hasCarouselData:Ue,isDenseView:Ke,isPromoted:Ae,isSocialSeasonalBoard:!1,pinImageCrop:B,pinImageFit:oe,resolution:ae,showPromotedVideos:vn,surface:le})),[Ue,Ke,Ae,B,oe,ae,vn,le]),xn=Fe&&(0,q.F)(),bn=(0,t.useMemo)((()=>({debugImpressionState:_,slotIndex:De})),[_,De]);return(0,ee.jsx)(O.Z,{name:"PinRepConfiguration",children:(0,ee.jsx)(V.B,{value:de,children:(0,ee.jsxs)(Z.B,{value:{surface:le},children:[(0,ee.jsx)(X.Z,{actionBarProps:cn,blockClickEvents:n,currentlyPlayingVideo:ke,footerProps:Tn,impressionsDebuggerProps:bn,obscuredPinOverlayProps:Nn,pin:re,pinVisualProps:yn,presentationProps:Rn,primaryContentProps:an,secondaryContentProps:dn,showFooter:Pn||Sn,showImpressionsDebugger:xn,showObscuredPinOverlay:gn,showSeeStatsButton:_n,showSignalDebugger:Fe,showUnavailablePin:on,surface:le,visibilityOverrides:rn,...(0,N.Z)(ce,["pinId"])}),je.shouldOpenModal&&je.newPin&&(null===(ue=je.originalPin)||void 0===ue?void 0:ue.id)===re.id&&(0,ee.jsx)(O.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,ee.jsx)(w.Z,{children:(0,ee.jsx)(ne,{experience:je.experience,newPin:je.newPin})})})]})})})}))},49231:(e,n,i)=>{i.d(n,{J:()=>zn,Z:()=>Kn});var t=i(667294),o=i(628613),r=i(53930),a=i(377097),s=i(741874),l=i(710159),d=i(952733),c=i(713751),_=i(796629),u=i(67316),p=i(361086);function E(e,n){const{carousel_data:i,domain:t,ad_destination_url:o}=e;let r=t||"";return o&&(r=(0,p.Z)(o).hostname||""),i&&i.id&&(r=function(e,n){const i=n||e&&e.index||0,t=e&&e.carousel_slots||[],o=t[i]&&t[i].link||"";return o&&(0,p.Z)(o).hostname||""}(i,n)),r.replace("www.","")}var h=i(741012),I=i(8858),T=i(531572),m=i(925927),f=i(883119),S=i(785893);const P={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function g({pin:e,sourceLinkStyle:n,surface:i,url:o}){const r=(0,l.ZP)(),[a,s]=(0,t.useState)(!1),{id:d}=e,p=E(e),g=(0,m.TH)(),A=(0,T.Kl)(e)||{},{slotIndex:R}=(0,c.E)(),O=(0,u.Z)(e,g),N=(0,I.Z)(12,{object_id_str:d,clientTrackingParams:O,aux_data:{grid_index:R,...(0,T.Kl)(e)||{}}}),v=(0,I.Z)(101,{element:162,object_id_str:d,clientTrackingParams:O,aux_data:{...(0,T.Kl)(e)||{}}}),y=(0,I.Z)(8948,{object_id_str:d,clientTrackingParams:O,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:R,...(0,T.Kl)(e)||{}}}),x=()=>{N(),v(),y()},b=(0,h.Z)({href:o,target:"blank",externalData:{auxData:A,pin:e,surface:i}});return"icon-only"===n?(0,S.jsx)(f.hU,{accessibilityLabel:r._("link","Website url link","Website url link"),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),x(),b({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{...P.container,...a?P.containerHovered:Object.freeze({}),..."truncated-text"===n?P.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),position:"relative",children:(0,S.jsx)(_.Z,{hovered:a,pin:e,slotIndex:R,viewType:1,children:(0,S.jsx)(f.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),x(),b({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,S.jsxs)(f.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:P.text},display:"flex",justifyContent:"between",children:[(0,S.jsx)(f.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,S.jsx)(f.JO,{accessibilityLabel:r._("link","Website url link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})}),(0,S.jsx)(f.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,S.jsx)(f.xv,{color:"default",size:"md",weight:"bold",lineClamp:1,children:p})})]})})})})}const A=(0,t.lazy)((()=>Promise.all([i.e(97270),i.e(48035)]).then(i.bind(i,270280)))),R=(0,t.lazy)((()=>Promise.resolve().then(i.bind(i,408479)))),O=(0,t.lazy)((()=>i.e(5035).then(i.bind(i,130889))));const N=(0,t.memo)((function({actionBarEditBeforeShare:e,feedbackData:n,feedbackType:i,layout:_,onToggleFlyout:u,pin:p,pinTitle:E,setForcePrimary:h,showEditButton:I,showOverflowMenu:T,showShareButton:m,showSourceLinkButton:P,sourceLinkStyle:N,surface:v}){var y,x;const b=(0,l.ZP)(),C=(0,f.JZ)(),{isRTL:D}=(0,d.B)(),{viewParameter:L,viewType:w}=(0,c.E)(),{carousel_data:M,id:G,savedInfo:k,tracked_link:j,link:B,ad_destination_url:U}=p,F=null!==(y=null!==(x=null!=U?U:j)&&void 0!==x?x:B)&&void 0!==y?y:"",{isLeadPin:H}=(0,a.Z)(p),[Z,V]=(0,t.useState)(I),[W,Y]=(0,t.useState)(I),[z,K]=(0,t.useState)(I),X={...D?{marginLeft:I&&T?-44:0}:{marginRight:I&&T?-44:0},transition:D?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},q={opacity:z?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},$={...D?{marginRight:W?4:0}:{marginLeft:W?4:0},transition:D?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,t.useEffect)((()=>{let e;return I&&T?(Y(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{V(!0),requestAnimationFrame((()=>{K(!0)}))}))}),800)):(Y(I),V(I),requestAnimationFrame((()=>{K(I)}))),()=>{clearTimeout(e)}}),[I,T]);let J=null;P&&(J=(0,S.jsx)(o.Z,{children:H?(0,S.jsx)(f.zx,{role:"button",accessibilityLabel:b._("Link for closeup view and sign up","[m10n] pinRep.actionBar.signup","Content for sign up link"),size:"sm",text:b._("Sign up","[m10n] pinRep.actionBar.signup","Content for sign up link")}):(0,S.jsx)(g,{pin:p,sourceLinkStyle:N,surface:v,url:F})}));const Q=m&&(0,S.jsx)(r.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,S.jsx)(s.Z,{children:(0,S.jsx)(f.xu,{"data-test-id":"send-share-link",children:(0,S.jsx)(o.Z,{children:(0,S.jsx)(O,{pin:p,setForcePrimary:h})})})})}),ee=Boolean(null==k?void 0:k.localPinId)?null==k?void 0:k.localPinId:G,ne=Z&&(0,S.jsx)(r.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,S.jsx)(s.Z,{children:(0,S.jsx)(f.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:C?void 0:{__style:q},children:(0,S.jsx)(o.Z,{children:(0,S.jsx)(A,{carouselSlotCurrentIndex:M&&M.index,component:0,onToggleModal:u,pinId:ee,style:{size:"sm"},view:w,viewParameter:L,useLegoStyles:!0})})})})});return"equally-spaced"===_?(0,S.jsxs)(f.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:J}),e?ne:Q,e?Q:ne]}):(0,S.jsxs)(f.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,S.jsx)(f.xu,{flex:"shrink",children:J}),(0,S.jsx)(f.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:C?void 0:{__style:X},children:(0,S.jsxs)(f.kC,{alignItems:"center",gap:2,justifyContent:"end",children:[e?ne:Q,e?Q:ne,T&&(0,S.jsx)(r.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,S.jsx)(s.Z,{children:(0,S.jsx)(f.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:C?void 0:{__style:$},children:(0,S.jsx)(o.Z,{children:(0,S.jsx)(R,{feedbackData:n,feedbackType:i,pin:p,pinTitle:E,setForcePrimary:h})})})})})]})})]})}));var v=i(40142),y=i(850770),x=i(255948),b=i(539195);function C({direction:e,swipeHandler:n}){const i=(0,l.ZP)(),t={left:i._("View Previous","Button to advance carousel to the previous image","Button to advance carousel to the previous image"),right:i._("View Next","Button to advance carousel to the next image","Button to advance carousel to the next image")};return(0,S.jsx)(f.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,S.jsx)(f.iP,{fullHeight:!0,fullWidth:!0,onTap:n,children:(0,S.jsx)(f.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,S.jsx)(f.JO,{accessibilityLabel:t[e],color:"white",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}const D=(0,v.connect)(null,(function(e){return{changeCarouselSlotIndex:(n,i)=>e((0,x.yR)(n,i))}}))((({pin:e,changeCarouselSlotIndex:n})=>{const{logContextEvent:i}=(0,b.v)(),{componentType:t,viewParameter:r,viewType:a}=(0,c.E)(),s=(0,y.Z)({pin:e});if(!s)return null;const{id:l=""}=e,{carousel_slots:d=[],index:_=0,id:u}=s;function p(o){return()=>{const s="left"===o?_-1:_+1;n(l,s),((n=0,o)=>{i({event_type:108,object_id_str:l,component:t,view_type:a,view_parameter:r,event_data:{pinCarouselSlotEventData:{carouselSlotId:d[n]&&Number(d[n].id),carouselDataId:Number(u),carouselSlotIndex:n,toCarouselSlotIndex:o}},aux_data:{...(0,T.Kl)(e)||{}}})})(_,s)}}return(0,S.jsxs)(f.xu,{height:"100%",position:"relative",width:"100%",children:[_>0&&(0,S.jsx)(o.Z,{children:(0,S.jsx)(C,{direction:"left",swipeHandler:p("left")})}),_<d.length-1&&(0,S.jsx)(o.Z,{children:(0,S.jsx)(C,{direction:"right",swipeHandler:p("right")})})]})}));var L=i(606348),w=i(156575);function M({accessibilityLabel:e,attributionNameLink:n,avatarUrl:i,fullWidth:t=!0,name:o="",onClick:r,outline:a=!1,size:s=32}){const l=(0,S.jsx)(f.xu,{"data-test-id":"attribution-avatar",height:s,width:s,children:(0,S.jsx)(w.Z,{name:o,src:i,accessibilityLabel:e,outline:a})});return n?(0,S.jsx)(f.iP,{fullWidth:t,role:"link",href:n,onTap:r,children:l}):l}var G=i(112978);function k({isHover:e,attributionNameLink:n,name:i,onClick:t,regularWeight:o}){const{anyEnabled:r}=(0,G.aq)("web_disable_ads_blocker",!n);return(0,S.jsx)(f.xu,{children:(0,S.jsx)(f.xv,{underline:e,size:"md",lineClamp:1,weight:o?"normal":"bold",children:n?(0,S.jsx)(f.rU,{onClick:t,href:n,children:i}):r?(0,S.jsx)("span",{children:i}):i})})}function j({isHover:e,link:n,onClick:i,title:t,weight:o}){return t?(0,S.jsx)(f.xv,{inline:!0,underline:e,size:"md",weight:o,children:n?(0,S.jsx)(f.rU,{onClick:i,href:n,children:t}):t}):null}var B=i(151479),U=i(321762);function F({attributionNameLink:e,attributionTitle:n,avatarUrl:i,display:o="default",isPromotedByPinCreator:r,pin:s,name:l,url:d,verifiedIdentity:c,isVerifiedMerchant:_}){const u=(0,U.f)(),[p,E]=(0,t.useState)(!1),{id:h,sponsorship:T,story_pin_data_id:m}=s,{isPromoted:P}=(0,a.Z)(s),{creator:g}=T||{},{id:A}=g||{},R=!!m,O=(0,I.Z)(101,{view_type:3,element:P?283:27,object_id_str:h,component:R?230:void 0,aux_data:{...A?{creator_id:A,pin_id:h}:{}}}),N=()=>{u.setMostRecentPinId(h),O()},v=()=>{E((e=>!e))},y=d&&!e,x="overlay"===o,b=(0,S.jsxs)(f.xu,{alignItems:"center",display:x?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,S.jsx)(f.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:x?"flex":void 0,justifyContent:"center",children:(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:x?{__style:{marginTop:-45}}:void 0,children:(0,S.jsx)(M,{attributionNameLink:e,avatarUrl:i,name:l,onClick:()=>N(),accessibilityLabel:"",size:x?64:32,outline:x})})}),(0,S.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:x?"flex":void 0,justifyContent:"center",marginTop:x?2:void 0,children:[(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,S.jsxs)(f.kC,{gap:1,children:[(0,S.jsx)(k,{attributionNameLink:e,name:l,onClick:()=>N(),regularWeight:!(P&&!T||r),isHover:p}),(0,S.jsx)(B.Z,{size:"sm",hasVerifiedIdentity:c,isVerifiedMerchant:_})]})}),(0,S.jsx)(j,{isHover:p,title:n,weight:"normal"})]})]});return y?(0,S.jsx)(f.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),N()},href:d,onMouseEnter:v,onMouseLeave:v,children:b}):b}var H=i(613239),Z=i(588028),V=i(251483),W=i(902339),Y=i(222421),z=i(456168),K=i(277243),X=i(130510),q=i(816458),$=i(712611);function J({board:e,favoriteCount:n,favorited:i,pinId:o}){const{logContextEvent:r}=(0,b.v)(),a=(0,v.useDispatch)(),{slotIndex:s}=(0,c.E)(),{currentFilter:l,eligibleFilters:d,refreshData:_=(()=>{}),sectionId:u,setShowExperienceTooltip:p}=(0,$.s)(),E=(0,t.useRef)(null),h=(0,z.Z)(),I=(0,Z.Z)(h,e),T=l===X.Ac&&(!n||1===n),m=(0,K.E)(d,X.Ac),P=e=>{r({event_type:101,component:0,element:e?12225:12226,object_id_str:o,view_type:5,view_parameter:I?3069:3070})};return(0,S.jsxs)(t.Fragment,{children:[(0,S.jsx)(f.xu,{ref:E,children:(0,S.jsx)(W.Z,{favorited:i,favoriteCount:n,onFavorite:()=>{P(!0),m&&_(),p&&p(!0)},onUnfavorite:()=>{P(!1),e&&T&&a((0,Y.Z)({feedId:u||e.id,feedType:u?q.DV.SECTION_PINS:q.DV.BOARD_PINS,itemIds:[o],itemType:"pin"}))},pinId:o,size:20})}),E&&!i&&!u&&0===s&&(0,S.jsx)(f.mh,{children:(0,S.jsx)(V.Z,{anchor:E.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var Q=i(850115),ee=i.n(Q),ne=i(379507),ie=i.n(ne),te=i(637956),oe=i.n(te),re=i(568594),ae=i(909745),se=i.n(ae),le=i(128206),de=i.n(le),ce=i(483050);const _e={goodIdea:ee(),love:oe(),thanks:se(),wow:de(),haha:ie()},ue={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},pe=["CreatorProfileStoryPinGrid"];const Ee=function({alignment:e="start",pinId:n,pinner:i,reactionCounts:t,surface:o}){const r=(0,z.Z)(),a=t?(0,ce.At)(t):null,s=t?(0,ce.Ud)(t):0,l=Boolean(r.isAuth&&(null==i?void 0:i.id)===r.id),d=!!a&&a.length>0&&a.map(((e,n)=>{const i=_e[ue[e]];return(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,S.jsx)(f.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${i})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},n)})),c=!!d&&(0,S.jsx)(f.iP,{role:"link",href:`/pin/${n}/`,children:(0,S.jsxs)(f.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,S.jsx)(f.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,S.jsx)(f.xu,{paddingX:1,children:(0,S.jsx)(f.xv,{size:"md",children:(0,S.jsx)(re.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),_=l&&pe.includes(o)&&(0,S.jsx)(f.xu,{height:24});return c||_};var he=i(599797),Ie=i(248252);function Te({feedbackType:e,pin:n}){const i=(0,l.ZP)(),{pinner:t,source_interest:o}=n,{full_name:r,username:a}=t||{},{name:s}=o||{},d="topic"===e,c=!d&&"followed"===e,_=`/${a}/`,u=(0,Ie.NO)(s),p=`/search/pins/?q=${encodeURIComponent(u)}&rs=image_only_attribution`,E=d?p:_,h={topic:i._("From {topic}","attribution on pin rep","attribution on pin rep"),followed:i._("From {pinnerName}","attribution on pin rep","attribution on pin rep"),pfyBoard:i._("Picked for you","attribution on pin rep","attribution on pin rep"),pfy:i._("Picked for you","attribution on pin rep","attribution on pin rep")}[e];if(!h)return null;if(c||d){const e=0===h.indexOf("{"),n=d?s:r,i=e?h.slice(h.indexOf("}")+1):h.slice(0,h.indexOf("{"));return e?(0,S.jsxs)(f.xu,{children:[(0,S.jsx)(f.rU,{inline:!0,href:E,children:(0,S.jsx)(f.xv,{weight:"bold",inline:!0,size:"md",lineClamp:1,children:n})}),(0,S.jsx)(f.xv,{inline:!0,size:"md",children:i})]}):(0,S.jsxs)(f.xu,{children:[(0,S.jsx)(f.xv,{inline:!0,size:"md",children:i}),(0,S.jsx)(f.rU,{inline:!0,href:E,children:(0,S.jsx)(f.xv,{color:"default",weight:"bold",inline:!0,size:"md",lineClamp:1,children:n})})]})}return(0,S.jsx)(f.xu,{children:(0,S.jsx)(he.Z,{pin:n,children:(0,S.jsx)(f.xv,{color:"default",overflow:"normal",size:"md",weight:"bold",children:h})})})}var me=i(235744),fe=i(408479),Se=i(485394),Pe=i(164271);function ge(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}class Ae extends t.Component{constructor(...e){super(...e),ge(this,"state",{spamCheck:null}),ge(this,"mounted",!1),ge(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:n,surface:i,url:t}=this.props;t&&n&&(0,Pe.$3)({location:e,pin:n,surface:i})&&(0,Pe.iw)({isMounted:this.mounted,pin:n,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:t})})),ge(this,"handleClick",(e=>{const{auxData:n,location:i,onClick:t,pin:o,pinId:r,url:a,logContextEvent:s}=this.props;(0,Pe.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),t&&t(e),a&&(0,Se.h)({href:a,pinId:r,pin:o,location:i,auxData:n},s))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,url:n}=this.props;return(0,S.jsx)("a",{href:n,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}const Re=(0,v.connect)((function({pins:e},{pinId:n}){return{pin:n&&e?e[n]:void 0}}),(()=>({})))((function(e){const{logContextEvent:n}=(0,b.v)();return(0,S.jsx)(Ae,{...e,history:(0,m.k6)(),location:(0,m.TH)(),logContextEvent:n,match:(0,m.$B)()})}));function Oe(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:n,totalAssets:i}=window.prefetchCompletion[e];return i?(n/i*100).toFixed(3).toString():"-1"}var Ne=i(144977),ve=i(562706);function ye({children:e,componentType:n,contextLogData:i,pin:t,surface:o,viewParameter:r,viewType:a}){const{logContextEvent:s}=(0,b.v)(),l=(0,c.E)(),{ad_destination_url:d,carousel_data:_,id:u,link:p,tracked_link:E}=t;let h,I=d||E||p||"",T="one-tap-desktop";if(_){const{carousel_slots:e=[],id:n,index:i=0}=_;e[i]&&e[i].link&&(I=e[i].link),h={carousel_slot_id:e[i]&&e[i].id,carousel_data_id:n,carousel_slot_index:i},T+="-carousel"}return(0,S.jsx)(f.xu,{"data-test-id":"otpp",children:(0,S.jsx)(Ne.Z,{id:T,children:(0,S.jsx)(Re,{auxData:h,onClick:()=>{const e=(0,ve.cv)();s({event_type:12,view_type:a||l.viewType,view_parameter:r||l.viewParameter,component:n||l.componentType,object_id_str:u,aux_data:{...i,grid_index:l.slotIndex,pin_id:u,prefetch_percentage_complete:Oe(p||"")}}),s({event_type:8948,view_type:a||l.viewType,view_parameter:r||l.viewParameter,component:n||l.componentType,object_id_str:u,aux_data:{...i,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:l.slotIndex,pin_id:u,prefetch_percentage_complete:Oe(p||"")}}),s({event_type:13,object_id_str:u,component:n||l.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...l.contextLogData,...i}}),s({event_type:13,...e})},pinId:u,surface:o,url:I,children:e})})})}var xe=i(866104);function be(e){const{pin:n,surface:i}=e,{isOneTap:t,isVideo:o,isPromoted:r,isLeadPin:s}=(0,a.Z)(n),l=(0,G.tc)("web_no_tap_tap"),d=!s&&(t||o&&r&&l().anyEnabled)?ye:he.Z;return(0,S.jsx)(d,{surface:t?i:void 0,...(0,xe.Z)(e,["surface"])})}function Ce({pin:e,pinNoteText:n}){return(0,S.jsx)(be,{pin:e,children:(0,S.jsx)(f.xv,{lineClamp:1,overflow:"normal",size:"md",children:n})})}var De=i(238098),Le=i(766279);function we({value:e,valueFormat:n}){const i=(0,l.ZP)();return e||0===e?"TIME"===n?(0,Le.Z)(e):(0,S.jsx)(re.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,S.jsx)(f.u,{idealDirection:"up",text:i._("This stat is not available yet","closeup.partnerAnalytics.unavailableStat","when data for this field has not populated yet"),children:"—"})}var Me=i(715342);function Ge({pin:e}){var n;const i=(0,l.ZP)(),t=(0,z.Z)(),{isStoryPin:o,isVideo:r}=(0,a.Z)(e),s=t.isAuth&&(null===(n=e.pinner)||void 0===n?void 0:n.id)===t.id&&!e.is_repin,d=t.isAuth&&t.isPartner,c=(0,Me.iL)({isOwnPin:s,isPartner:d}),_=(0,Me.H1)({isOwnPin:s,isPartner:d}),u=e.created_at?new Date(e.created_at):null,p=(c||_)&&u&&u.getTime()<=Me.HW.getTime(),E=c?function(e){const{public_creator_analytics:n}=e,{isStoryPin:i}=(0,a.Z)(e);return i&&n?n:null}(e):function(e){const{aggregated_pin_data:n,creator_analytics:i}=e,{creator_analytics:t}=n||{},{isStoryPin:o}=(0,a.Z)(e);return!i||!o&&t?t:i}(e),h=(0,De.ZP)({isVideo:r,isStoryPin:o,i18n:i,showPublicPinStats:c,showPrivateFullScreenPinStats:_}),I=r||o?null==E?void 0:E.all_time_realtime:null==E?void 0:E["30d_realtime"];return(0,S.jsx)(f.kC,{alignItems:"stretch",justifyContent:"start",children:h.map((({align:e,displayText:n,field:i,iconType:t,iconSize:o=12,valueFormat:r})=>(0,S.jsxs)(f.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,S.jsx)(f.xu,{display:"inlineBlock",marginEnd:1,children:(0,S.jsx)(f.JO,{accessibilityLabel:n,color:"darkGray",icon:t,size:o})}),(0,S.jsx)(f.xv,{inline:!0,size:"md",children:(0,S.jsx)(we,{value:"full_screen_play"===i&&p?null:null==I?void 0:I[i],valueFormat:r})})]},i)))})}function ke({currentPrice:e,originalPrice:n,pin:i,surface:t}){const o=n&&n!==e;return(0,S.jsx)(be,{pin:i,surface:t,children:(0,S.jsxs)(f.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,S.jsx)(f.xv,{color:o?"shopping":"subtle",size:"md",weight:"bold",children:e}),o&&(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,S.jsx)(f.xv,{color:"subtle",size:"md",weight:"bold",children:n})})]})})}var je=i(819086),Be=i(706713);function Ue({pin:e,surface:n}){return(0,S.jsx)(be,{pin:e,surface:n,children:(0,S.jsx)(f.kC,{alignItems:"stretch",justifyContent:"start",children:(0,S.jsx)(f.xv,{color:"default",lineClamp:1,overflow:"normal",size:"md",weight:"normal",children:(0,Be.Z)(e,n)})})})}var Fe=i(815350);function He({numberOfLines:e=2,pin:n,pinTitle:i,surface:t}){return(0,S.jsx)(f.xv,{color:"default",lineClamp:e,size:"md",weight:"bold",children:(0,S.jsx)(be,{pin:n,surface:t,children:i})})}var Ze=i(187828);const Ve={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${Ze.X}ms ease`},visible:{opacity:1}}};function We({attributionDisplay:e,attributionType:n,board:i,feedbackData:o,feedbackType:r,hasTextContent:s,hasTitleOrSource:d,hoverTransitionState:c,pin:_,pinNoteText:u,pinTitle:p,productCurrentPrice:E,productOriginalPrice:h,reactionAlignment:T,setForcePrimary:m,showCarouselEllipsis:P,showFavoriteButton:g,showGroupBoardAvatar:A,showNativeReactions:R,showOverflowMenu:O,showPinStats:N,showSource:y,showTextContent:x,showTitle:b,showVerifiedIcon:C,surface:D,titleLines:L}){var w,k,B,U;const Z=(0,l.ZP)(),V=(0,z.Z)(),W=(0,v.useDispatch)(),{favorited_by_me:Y,favorite_user_count:K,id:X,pinner:q,reaction_counts:$,sponsorship:Q,story_pin_data:ee}=_,{has_affiliate_products:ne}=ee||{},ie=function(e,n,i){var t,o,r,s;const{board:l,link_domain:d={},promoter:c,sponsorship:_,native_creator:u}=e,{sponsor:p}=_||{},{isPromoted:E}=(0,a.Z)(e),{official_user:h}=d||{},I=E&&!!_&&(null==u?void 0:u.id)!==(null==c?void 0:c.id),T=e.pinner||{};let m="",f="",S="",P="",g="",A="",R=!1,O=!1;var N,v,y,x,b,C;if(I)m=null!==(N=null!==(v=null==u?void 0:u.image_medium_url)&&void 0!==v?v:null==u?void 0:u.image_small_url)&&void 0!==N?N:"",f=`/${null!==(y=null==u?void 0:u.username)&&void 0!==y?y:""}/`,S=null==c?void 0:c.full_name,P=null==u?void 0:u.full_name,A=`/${null!==(x=null==u?void 0:u.username)&&void 0!==x?x:""}/`,g=`/${null!==(b=null==c?void 0:c.username)&&void 0!==b?b:""}/`,R=null==u||null===(C=u.verified_identity)||void 0===C?void 0:C.verified,O=null==u?void 0:u.is_verified_merchant;else if(E&&c)m=c.image_medium_url||c.image_small_url,S=c.full_name,P=i._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin"),A=`/${c.username}/`;else if(_&&null!=p&&p.username){var D,L,w,M,G,k;m=null!==(D=null!==(L=null!==(w=null==u?void 0:u.image_large_url)&&void 0!==w?w:null==u?void 0:u.image_medium_url)&&void 0!==L?L:null==u?void 0:u.image_small_url)&&void 0!==D?D:"",f=`/${null!==(M=null==u?void 0:u.username)&&void 0!==M?M:""}/`,S=p.full_name,P=null==u?void 0:u.full_name,A=`/${null!==(G=null==u?void 0:u.username)&&void 0!==G?G:""}/`,g=`/${p.username}/`,R=null==u||null===(k=u.verified_identity)||void 0===k?void 0:k.verified,O=null==u?void 0:u.is_verified_merchant}else if(u){var j,B,U,F,H;m=null!==(j=null!==(B=null!==(U=u.image_large_url)&&void 0!==U?U:u.image_medium_url)&&void 0!==B?B:u.image_small_url)&&void 0!==j?j:"",P=u.full_name,A=`/${null!==(F=u.username)&&void 0!==F?F:""}/`,R=null===(H=u.verified_identity)||void 0===H?void 0:H.verified,O=u.is_verified_merchant}else if("show-for-claimed-content"===n){var Z,V,W,Y;null!=h&&h.is_primary_website_verified&&h.username&&(m=null!==(Z=null!==(V=null!==(W=h.image_large_url)&&void 0!==W?W:h.image_medium_url)&&void 0!==V?V:h.image_small_url)&&void 0!==Z?Z:"",P=h.full_name,A=`/${h.username}/`,R=null===(Y=h.verified_identity)||void 0===Y?void 0:Y.verified,O=h.is_verified_merchant)}else{var z,K,X,q;m=null!==(z=null!==(K=null!==(X=T.image_large_url)&&void 0!==X?X:T.image_medium_url)&&void 0!==K?K:T.image_small_url)&&void 0!==z?z:"",f=`/${T.username}/`,P=T.full_name,A=l?l.url:"",R=null===(q=T.verified_identity)||void 0===q?void 0:q.verified,O=T.is_verified_merchant}return{avatarUrl:null!==(t=m)&&void 0!==t?t:"",attributionNameLink:f,attributionTitle:null!==(o=S)&&void 0!==o?o:"",name:null!==(r=P)&&void 0!==r?r:"",sponsorUrl:g,url:null!==(s=A)&&void 0!==s?s:"",verifiedIdentity:!!R,isVerifiedMerchant:!!O}}(_,n,Z),{avatarUrl:te,attributionNameLink:oe,attributionTitle:re,name:ae,sponsorUrl:se,url:le,verifiedIdentity:de,isVerifiedMerchant:ce}=ie,_e=!!_.promoter&&!_.is_downstream_promotion,ue=_e&&(null===(w=_.native_creator)||void 0===w?void 0:w.id)===(null===(k=_.promoter)||void 0===k?void 0:k.id),pe=(0,I.Z)(101,{view_type:3,element:27,object_id_str:X,component:_.story_pin_data_id?230:void 0,aux_data:{pin_id:X,...null!=Q&&null!==(B=Q.creator)&&void 0!==B&&B.id&&null!==(U=Q.sponsor)&&void 0!==U&&U.id?{creator_id:Q.creator.id,sponsor_id:Q.sponsor.id}:{}}}),he=e=>W(he(e)),Ie=(0,G.tc)("web_ag_msg_pin_card_update"),Se="ConversationView"===D&&Ie({dangerouslySkipActivation:!0}).anyEnabled,Pe=!ue&&Q?(0,S.jsx)(j,{link:se||le,onClick:()=>(he(X),void pe()),title:(0,je.ZP)(re,20),weight:"bold"},`${_.id}-sponsor-name-link`):null,ge="ConversationView"===D&&Se?{padding:"8px"}:Ve.container;return(0,S.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:ge},children:[P&&(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:d||A||"none"!==n?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,S.jsx)(H.default,{pinId:X})}),N&&(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,S.jsx)(Ge,{pin:_})}),(0,S.jsx)(f.kC,{alignItems:"stretch",justifyContent:"start",children:(0,S.jsxs)(f.xu,{flex:"grow",children:[(!!Q||ne&&!_e)&&!ue&&(0,S.jsx)(f.xu,{marginBottom:1,children:(0,S.jsx)(f.xu,{flex:"grow",overflow:"hidden",children:(0,S.jsx)(Fe.Z,{hasAffiliateProducts:ne,isPromoted:_e,sponsorName:Pe,sponsorshipStatus:null==Q?void 0:Q.status})})}),(x&&s||g)&&(0,S.jsxs)(f.xu,{marginBottom:1,children:[(h||E)&&(0,S.jsx)(f.xu,{marginBottom:1,children:(0,S.jsx)(ke,{currentPrice:E,originalPrice:h,pin:_,surface:D})}),g?(0,S.jsxs)(f.kC,{alignItems:"start",children:[(0,S.jsx)(f.kC,{flex:"grow",children:(0,S.jsx)(He,{numberOfLines:L,pin:_,pinTitle:p,surface:D})}),(0,S.jsx)(f.xu,{marginStart:3,children:(0,S.jsx)(J,{board:i,favorited:!!Y,favoriteCount:null!=i&&i.is_collaborative&&(0,me.Z)({board:i,viewer:V})?null!=K?K:0:void 0,pinId:X})})]}):b&&(0,S.jsx)(He,{numberOfLines:L,pin:_,pinTitle:p,surface:D}),y&&(0,S.jsx)(f.xu,{marginBottom:2,children:(0,S.jsx)(Ue,{pin:_,surface:D})})]}),(0,S.jsxs)(f.kC,{alignItems:"center",justifyContent:"start",children:[(0,S.jsx)(f.xu,{flex:"grow",children:(()=>{const i=(0,S.jsx)(F,{attributionNameLink:oe,attributionTitle:_e&&!Q||ue?re:"",avatarUrl:te,display:e,isPromotedByPinCreator:!!ue,isVerifiedMerchant:C&&ce,name:ae,pin:_,url:le,verifiedIdentity:C&&de});switch(n){case"none":return null;case"image-only-credit":return(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:Ve.imageOnlyAttribution["active"===c?"visible":"hidden"]},children:(0,S.jsx)(Te,{pin:_,feedbackType:r})});default:return Object.values(ie).some((e=>Boolean(e)))?i:null}})()}),O&&(0,S.jsx)(f.xu,{flex:"none",children:(0,S.jsx)(fe.default,{feedbackData:o,feedbackType:r,pin:_,pinTitle:p,setForcePrimary:m,transparentBackground:!0})})]}),R&&!!$&&Object.keys($).length>0&&(0,S.jsx)(f.xu,{marginTop:"ConversationView"===D&&Se?2:void 0,children:(0,S.jsx)(Ee,{alignment:T,pinId:X,pinner:q,reactionCounts:$,surface:D})}),u&&(0,S.jsx)(f.xu,{marginBottom:1,children:(0,S.jsx)(Ce,{pin:_,pinNoteText:u})}),A&&!g&&(0,S.jsx)(f.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,S.jsxs)(t.Fragment,{children:[(0,S.jsx)(M,{attributionNameLink:oe||le,avatarUrl:te,fullWidth:!1,name:ae}),(0,S.jsx)(f.xu,{marginStart:2,flex:"grow",children:(0,S.jsx)(f.xv,{size:"md",children:ae})})]})})]})})]})}var Ye=i(394465),ze=i(792098);const Ke=(0,t.lazy)((()=>i.e(33168).then(i.bind(i,446124)))),Xe=(0,t.lazy)((()=>i.e(69221).then(i.bind(i,458392))));function qe({contentType:e,hasTextContent:n,pin:i,pinTitle:o,productCurrentPrice:a,productOriginalPrice:d,productRating:c,productShipping:_,showSource:u,showVisitSiteButton:p,surface:E,titleLines:h}){var I;const{logContextEvent:m}=(0,b.v)(),P=(0,l.ZP)(),g=(0,G.tc)("web_shopping_grid_metadata_ratings_shipping"),{anyEnabled:A,group:R}=g({dangerouslySkipActivation:!0}),O=(null===(I=i.rich_summary)||void 0===I?void 0:I.url)||i.link;"shopping"!==e||R.includes("pwt")||g();const N=(0,Ye.Z)({url:O})?"nofollow":"none";return(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:Ve.productContainer},height:"100%",children:(0,S.jsx)(f.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:n&&(0,S.jsxs)(t.Fragment,{children:[(0,S.jsxs)(f.xu,{children:[(d||a)&&(0,S.jsx)(f.xu,{marginBottom:1,children:(0,S.jsx)(ke,{currentPrice:a,originalPrice:d,pin:i,surface:E})}),(0,T.qN)(i)&&(0,S.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_OutOfStock",children:(0,S.jsx)(s.Z,{children:(0,S.jsx)(f.xu,{marginBottom:1,children:(0,S.jsx)(Ke,{})})})}),(0,T.SP)(i)&&(0,S.jsx)(r.Z,{name:"SafeSuspense_PinRepFooter_StaleProduct",children:(0,S.jsx)(s.Z,{children:(0,S.jsx)(f.xu,{marginBottom:1,children:(0,S.jsx)(Xe,{})})})}),(0,S.jsx)(f.xu,{marginBottom:1,children:(0,S.jsx)(He,{numberOfLines:h,pin:i,pinTitle:o,surface:E})}),u&&(0,S.jsx)(Ue,{pin:i,surface:E}),"shopping"===e&&A&&(c||Number.isFinite(null==_?void 0:_.free_shipping_value))&&(0,S.jsx)(ze.Z,{count:null==c?void 0:c.count,countFormat:"number",isGridView:!0,ratingValue:null==c?void 0:c.rating,shippingInfo:_})]}),p&&O?(0,S.jsx)(f.xu,{marginTop:2,children:(0,S.jsx)(f.zx,{role:"link",fullWidth:!0,href:O,rel:N,onClick:()=>{m({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:P._("Visit site","ShoppingList.Pin.CTA.Button.VisitSite.Text","Text on CTA button on ShoppingList Pin to Visit Site")})}):null]})})})}const $e=(0,t.memo)((function({attributionDisplay:e,attributionType:n,blockClickEvents:i,board:t,contentType:r,feedbackData:a,feedbackType:s,hoverTransitionState:l,pin:d,pinNoteText:c,pinTitle:_,productCurrentPrice:u,productOriginalPrice:p,reactionAlignment:E,productRating:h,productShipping:I,setForcePrimary:T,showCarouselEllipsis:m,showFavoriteButton:P,showGroupBoardAvatar:g,showNativeReactions:A,showOverflowMenu:R,showPinStats:O,showSource:N,showTextContent:v,showTitle:y,showVerifiedIcon:x,showVisitSiteButton:b,surface:C,titleLines:D}){const L=_||N,w="shopping"===r?(0,S.jsx)(qe,{contentType:r,hasTextContent:!!L,pin:d,pinTitle:_,productCurrentPrice:u,productOriginalPrice:p,productRating:h,productShipping:I,showSource:N,showVisitSiteButton:b,surface:C,titleLines:D}):(0,S.jsx)(We,{attributionDisplay:e,attributionType:n,board:t,feedbackData:a,feedbackType:s,hasTextContent:!!L,hasTitleOrSource:!!L,hoverTransitionState:l,pin:d,pinNoteText:c,pinTitle:_,productCurrentPrice:u,productOriginalPrice:p,reactionAlignment:E,setForcePrimary:T,showCarouselEllipsis:m,showFavoriteButton:P,showGroupBoardAvatar:g,showNativeReactions:A,showOverflowMenu:R,showPinStats:O,showSource:N,showTextContent:v,showTitle:y,showVerifiedIcon:x,surface:C,titleLines:D});return i?(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:w}):(0,S.jsx)(f.kC,{flex:"grow",children:(0,S.jsx)(o.Z,{fullWidth:!0,children:w})})}));var Je=i(238235),Qe=i(98775),en=i(565375);const nn=(0,t.lazy)((()=>i.e(34979).then(i.bind(i,325884)))),tn=(0,t.lazy)((()=>Promise.all([i.e(97270),i.e(17094),i.e(43473)]).then(i.bind(i,252386)))),on=(0,t.lazy)((()=>Promise.all([i.e(97270),i.e(15833),i.e(17094),i.e(22347)]).then(i.bind(i,635081)))),rn=(0,t.lazy)((()=>Promise.all([i.e(97270),i.e(69965),i.e(22538)]).then(i.bind(i,296991)))),an=(0,t.lazy)((()=>i.e(1593).then(i.bind(i,831286))));function sn({derivedSaveButtonOptions:e,forcePrimaryContent:n,showEnabledSaveBehavior:i,onToggleFlyout:a,onToggleModal:l,pin:d}){const{id:_,savedInfo:u}=d,p=(0,t.useRef)(!!u),E=(0,v.useSelector)((({experiences:e})=>{const n=e[1000294];return 502450===(null==n?void 0:n.experience_id)?n:null})),{saveBehaviorType:h}=(0,en.tY)(i);void 0!==h&&["classic","controlled","inline"].includes(e.type)&&(e=h);const{viewParameter:T,viewType:m}=(0,c.E)(),P=(0,I.Z)(101,{element:0,object_id_str:_});let g=null;const A={onToggleModal:a,view:m,viewParameter:T,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(E||i&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:t}=e;g=(0,S.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,S.jsx)(s.Z,{children:(0,S.jsx)(o.Z,{children:(0,S.jsx)(rn,{experience:E||void 0,forcePrimaryContent:n,pin:d,renderPinSaveTooltip:t,showEnabledSaveBehavior:i,viewParameter:T})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:n}=e;g=(0,S.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,S.jsx)(s.Z,{children:(0,S.jsx)(f.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,S.jsx)(o.Z,{children:(0,S.jsx)(tn,{onClickCallback:P,onToggleModal:l,oneTapSave:"controlled"===e.type?e:void 0,pin:d,renderPinSaveTooltip:n,renderSavedStatus:()=>!!u&&(0,S.jsx)(o.Z,{children:(0,S.jsx)(Qe.Z,{isNewlySaved:!p.current,name:u.title,type:u.type,url:u.url})}),variant:"lego",viewParameter:T})})})})})}else if("inline"===e.type){const n=d,{initialSelection:i,onSave:t,renderPinSaveTooltip:c,hidePinBetterSaveDropdown:_}=e;g=(0,S.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,S.jsx)(s.Z,{children:(0,S.jsx)(f.xu,{"data-test-id":"better-save",children:(0,S.jsx)(o.Z,{children:(0,S.jsx)(on,{initialSelection:i,onSave:t,onToggleFlyout:a,onToggleModal:l,pin:n,renderPinSaveTooltip:c,renderSavedStatus:({savedInfo:e})=>e&&(0,S.jsx)(o.Z,{children:(0,S.jsx)(Qe.Z,{isNewlySaved:!p.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:T,hideDropdown:_})})})})})}else"persistentOneClickSave"===e.type?g=(0,S.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,S.jsx)(s.Z,{children:(0,S.jsx)(f.xu,{"data-test-id":"persistent-one-click-save",children:(0,S.jsx)(o.Z,{children:(0,S.jsx)(nn,{...A,saveOptions:e,pin:d})})})})}):"promote"===e.type&&(g=(0,S.jsx)(f.kC,{alignItems:"stretch",justifyContent:"end",children:(0,S.jsx)(r.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,S.jsx)(s.Z,{children:(0,S.jsx)(f.xu,{"data-test-id":"pin-promote-button",children:(0,S.jsx)(o.Z,{children:(0,S.jsx)(an,{pin:d})})})})})}));return(0,S.jsx)(r.Z,{name:"PinRepPrimaryContent",children:(0,S.jsx)(f.xu,{display:"flex",margin:3,children:g&&(0,S.jsx)(f.xu,{marginStart:"auto",flex:"grow",children:g})})})}var ln=i(516795),dn=i(875410),cn=i(440504),_n=i(221295),un=i(955106);const pn={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function En({isSelected:e}){const n=(0,l.ZP)();return(0,S.jsx)(f.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?pn:{},children:(0,S.jsx)(f.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,S.jsx)(f.xu,{alignItems:"center",color:e?"darkGray":"white",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,S.jsx)(f.JO,{accessibilityLabel:n._("Pin is selected to be saved","SectionSuggestionPin.iconOnPin.selectedPin","accessibility label on an icon"),color:"white",icon:"check",size:12})})})})}var hn=i(897985),In=i(126684),Tn=i(675152),mn=i(448400),fn=i(751438),Sn=i(71445);const Pn={},gn=e=>{Sn.Z.increment("web_prefetch_via_xhr.attempt",1);const n=(0,p.Z)(e);return new Promise(((i,t)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(Sn.Z.increment("web_prefetch_via_xhr.saveDataOn",1),i()),/2g/.test(e.effectiveType)&&(Sn.Z.increment("web_prefetch_via_xhr.poorConnection",1),i())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(Pn[e]&&(Pn[e].loaded=!0),Sn.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:n.hostname||"unknown"}),i(o.response)):(Sn.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:n.hostname||"unknown"}),t())},Pn[e]||(o.send(),Pn[e]={added:!0,xhr:o},Sn.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:n.hostname||"unknown"}))}))},An={},Rn=(e,n)=>{const i="string"==typeof e?e:e.url;if(n&&i){const e="control"===n?"v1.pinimg.com":"v2.pinimg.com";return i.replace("v.pinimg.com",e)}return i};function On(e,n){return(Rn("https://v.pinimg.com/videos/mc/hls/",n)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function Nn(e){const{id:n}=e;n&&An[n]&&An[n].length>0&&An[n].forEach((e=>{(e=>{Pn[e]&&Pn[e].xhr&&!Pn[e].loaded&&(Sn.Z.increment("web_prefetch_abort_xhr",1),Pn[e].xhr.abort(),Pn[e].aborted=!0)})(e)}))}function vn({autoplaySettingOff:e,blockClickEvents:n,fallbackColor:i,imageFit:o,isDenseView:r,isHovering:s,isSocialSeasonalBoard:l=!1,onError:d,onLoad:u,pin:p,pinImageCrop:E,resolution:h="default",rootMargin:I,selectionState:T,showCarousel:m,showPromotedVideos:P,showUnavailablePin:g,surface:A}){const{contextLogData:R,slotIndex:O,viewParameter:N,viewType:v}=(0,c.E)(),{group:y}=(0,G.aq)("web_prefetch_video_in_feed"),{id:x="",aggregated_pin_data:b,image_signature:C,story_pin_data:D}=p,{pin_tags_chips:L}=b||{},{isOneTap:w,isVideo:M,isPromoted:k,isGif:j}=(0,a.Z)(p),{cropHeight:B,cropWidth:U}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(E);let F=null;if(g)F=(0,S.jsx)(hn.Z,{isDenseView:r,height:r?250:420,rounding:0,width:r?164:236});else if(e||!M||!P&&k||"BoardCoverSelectablePin"===A)if(m)F=(0,S.jsx)(f.xu,{"data-test-id":"pinrep-carousel",children:(0,S.jsx)(cn.Z,{cropHeight:B,cropWidth:U,onError:d,onLoad:u,highResOnly:"high-res"===h,lowResOnly:"low-res"===h,pinId:x,showCarouselBadge:!1,pin:p})});else{const e="backend"===E?function({images:e,image_crop:n}){var i;const t=e&&(null===(i=e["236x"])||void 0===i?void 0:i.height);if(n&&(0!==n.min_y||1!==n.max_y)){const{min_y:e=0,max_y:i=0}=n;return{marginTop:(e>0?-1*e*(null!=t?t:0):0)+"px",marginBottom:`${i<1?Math.round(-1*(1-i)*(null!=t?t:0)):0}px`}}return{}}(p):{};F=(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:(0,S.jsx)(_n.Z,{animateGif:j&&l,cropHeight:B,cropWidth:U,fallbackColor:i,imageFit:o,highResOnly:"high-res"===h,lowResOnly:"low-res"===h,mediumResOnly:"medium-res"===h,onLoad:u,onError:d,pin:p})})}else F=(0,S.jsx)(f.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:B||void 0,justifyContent:"center",children:(0,S.jsx)(un.Z,{cropHeight:B,rootMargin:I,inAdsDesktopVideoExperiment:M&&P,pin:p,surface:A,onLoad:u,viewType:v,viewParameter:N,highResOnly:"high-res"===h,lowResOnly:"low-res"===h,onError:d,isExperimentalPinRep:!0})});const H=(0,S.jsx)(f.zd,{wash:!0,children:(0,S.jsx)(_.Z,{hovered:s,pin:p,slotIndex:O,viewType:1,children:F})}),Z=["selected-image-only","deselected-image-only"].includes(T),V="selected-image-only"===T,W=(0,t.useRef)(!0),Y=(0,t.useRef)(!1),z=(0,t.useRef)(!1),K=(0,G.aq)("web_video_quic").group;if((0,t.useEffect)((()=>{W.current||!s||w||n||Y.current?s||!Y.current||z.current||(Nn(D||p),z.current=!0):D?(!function(e,n){var i;const{id:t,pages:o,pages_preview:r}=e;if(!r&&!o)return;const a=r?r[0]:null==o?void 0:o[0],s=null==a||null===(i=a.blocks)||void 0===i?void 0:i.find((e=>3===e.block_type));if(s&&s.video){const{hlsv3:e,mp4:i}=(0,fn.Z)(s.video)||{},o=i||e;if(o&&t){var l;const e=null!==(l=Rn(o,n))&&void 0!==l?l:"";An[t]=An[t]?An[t].concat(e):[e],gn(e)}}}(D,K),Y.current=!0):(!function(e,n){const{id:i,videos:t}=e,{video_list:o}=t||{},r=(0,In.Z)({pin:e}),{video:a}=(0,Tn.Z)(r)||{},{hls:s,hlsv3:l}=a||{};if(o){const e=(0,fn.t)(o)||{},t=l||s||{};if(t.url){var d;const e=null!==(d=Rn(t.url,n))&&void 0!==d?d:"";An[i]=An[i]?An[i].concat(e):[e],gn(e).then((e=>{let t=[];if("string"==typeof e&&(t=e.split("\n").filter((e=>e.endsWith(".m3u8")))),t&&t[mn.VS]){const e=On(t[mn.VS],n);return An[i]=An[i].concat(e),gn(null!=e?e:"")}return null})).then((e=>{let t=[];if("string"==typeof e&&(t=e.split("\n").filter((e=>e.endsWith(".ts")))),t&&t[0]){const e=On(t[0],n);return An[i]=An[i].concat(e),gn(null!=e?e:"")}return null}))}else if(e.url){var c;const t=null!==(c=Rn(e.url,n))&&void 0!==c?c:"";gn(t),An[i]=An[i]?An[i].concat(t):[t]}}}(p,K),Y.current=!0),W.current=!1}),[n,s,w,D,p,y,K]),n)return(0,S.jsxs)(t.Fragment,{children:[H,Z&&(0,S.jsx)(En,{isSelected:V}),L&&(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,S.jsx)(dn.Z,{pin:p,enableCloseupLink:!0})})]});const{commerce_data:X,story_type:q}=R||{},$=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(A);return(0,S.jsxs)(be,{contextLogData:{commerce_data:$?X:void 0,grid_index:O,image_signature:C,story_type:q},elementType:D?12372:35,pin:p,surface:A,children:[H,L&&(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,S.jsx)(dn.Z,{pin:p,enableCloseupLink:!1})})]})}var yn=i(285392),xn=i(293302),bn=i(786654);const Cn=(0,xn.Z)((({handleSendShareFlyoutButtonClick:e})=>{const n=(0,l.ZP)(),i=(0,bn.Z)();return(0,S.jsx)(f.zx,{fullWidth:!0,onClick:i((({event:n})=>{n&&n.stopPropagation&&n.stopPropagation(),e()})),text:n._("Send","Send a pin","Send a pin"),color:"gray",accessibilityLabel:n._("Send","Accessible label to send a pin","Accessible label to send a pin")})}));function Dn(e){return e<160?"header-only":"none"}function Ln(e){const[n,i]=(0,t.useState)(e.current?Dn(e.current.clientHeight||0):"none");return function(e,n){const i=(0,t.useRef)();(0,t.useEffect)((()=>{const t=e.current;if(!t)return;const o=i.current;o&&o.width===t.offsetWidth&&o.height===t.offsetHeight||(i.current={width:t.offsetWidth||0,height:t.offsetHeight||0},n&&n(i.current))})),i.current}(e,(({height:e})=>{const t=Dn(e);t!==n&&i(t)})),n}var wn=i(670641),Mn=i(128240),Gn=i(805251),kn=i(932937),jn=i(903997);const Bn="#000000",Un="#ffffff";function Fn({selected:e=!1}){const n=(0,l.ZP)(),{isRTL:i}=(0,d.B)();return(0,S.jsx)(f.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new f.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Bn:Un,borderRadius:jn.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,S.jsx)(f.xu,{position:"absolute",bottom:!0,right:!i,left:i,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"darkGray",children:(0,S.jsx)(f.JO,{accessibilityLabel:n._("Check icon","pinRepSelectionBorder.checkIcon","Accessibility label for check icon on selected Pin"),icon:"check",color:"white",size:12})}):(0,S.jsx)(f.xu,{right:!i,left:i,position:"absolute",top:!0,margin:3,children:(0,S.jsx)(f.JO,{accessibilityLabel:n._("Handle icon","pinRepSelectionBorder.handleIcon","Accessibility label for handle icon on an organizable Pin"),icon:"handle",color:"white",size:24})})})}const Hn={wrapper:{borderRadius:jn.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:jn.Dv.VISUAL},savedOverlay:{backgroundColor:jn.Dv.SAVED},legoWashOverlay:{backgroundColor:jn.Dv.LEGO_WASH}};function Zn({children:e,savedOverlayVisibility:n="none",visualOverlayVisibility:i="none",handleMouseOverPinContent:t,handleMouseLeavePinContent:o,primaryContent:r,primaryContentVisibility:a="none",secondaryContent:s,secondaryContentVisibility:l="none",accessoryContent:d,accessoryContentVisibility:c="none",actionBar:_,actionBarVisibility:u="none",seeStatsButton:p,footer:E,selectionState:h="no-selection",debugContent:I,signalDebuggerContent:T,signalDebuggerV2Content:m,signalDebuggerV2ContentVisibility:P="none",obscuredPinOverlay:g,showNoPinBorderRadius:A,showPromotedPinBorderTreatment:R,shouldUseLegoWash:O}){return(0,S.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:R?Hn.promotedPinBorderTreatment:{}},height:"100%",children:(0,S.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:A?{}:Hn.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(h)&&(0,S.jsx)(Fn,{selected:"selected"===h}),(0,S.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:A?{}:Hn.wrapper},overflow:"hidden",position:"relative",onFocus:t,onBlur:o,onMouseEnter:t,onMouseLeave:o,children:[e,(0,S.jsx)(kn.Z,{visibility:i,children:(0,S.jsx)(Gn.Z,{additionalStyles:O?Hn.legoWashOverlay:Hn.visualOverlay})}),(0,S.jsx)(kn.Z,{visibility:n,children:(0,S.jsx)(Gn.Z,{additionalStyles:O?Hn.legoWashOverlay:Hn.savedOverlay})}),d&&(0,S.jsx)(kn.Z,{visibility:c,children:(0,S.jsx)(Gn.Z,{children:d})}),s&&(0,S.jsx)(kn.Z,{visibility:l,children:(0,S.jsx)(Gn.Z,{children:s})}),r&&(0,S.jsx)(kn.Z,{visibility:a,children:(0,S.jsx)(Gn.Z,{children:r})}),m&&(0,S.jsx)(kn.Z,{visibility:P,children:(0,S.jsx)(Gn.Z,{children:(0,S.jsx)(f.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:m})})}),_&&(0,S.jsx)(kn.Z,{visibility:u,children:(0,S.jsx)(Gn.Z,{children:(0,S.jsx)(f.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:_})})}),p&&(0,S.jsx)(Gn.Z,{children:(0,S.jsx)(f.xu,{position:"absolute",left:!0,bottom:!0,children:p})}),I&&(0,S.jsx)(Gn.Z,{children:I}),T]}),E,g&&(0,S.jsx)(f.xu,{children:g})]})})}var Vn=i(475559);function Wn(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Yn(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const zn=228;const Kn=(0,t.memo)((function({actionBarProps:e,blockClickEvents:n,borderStyle:i,currentlyPlayingVideo:a,disableHover:s=!1,footerProps:l,impressionsDebuggerProps:d,obscuredPinOverlayProps:_,onError:u,onLoad:p,pin:E,pinVisualProps:h,presentationProps:I,primaryContentProps:T,rounding:m,secondaryContentProps:P,selectionState:g,showFooter:A,showImpressionsDebugger:R,showObscuredPinOverlay:O,showSeeStatsButton:v,showSignalDebugger:y,showUnavailablePin:x,surface:b,visibilityOverrides:C}){var w,M;const{savedInfo:k}=E,{viewType:j}=(0,c.E)(),{showEnabledSaveBehavior:B}=(0,en.Yh)(Vn.ZF.includes(b)||(0,Je.Z)(b)),[U,F]=(0,t.useState)(!1),H=(0,Ze.Z)(U);let{isHovering:Z,hoverTransitionState:V,handleMouseOver:W,handleMouseLeave:Y}=function(){const[e,n]=(0,t.useState)(!1);return{isHovering:e,hoverTransitionState:(0,Ze.Z)(e,0,Ze.X),handleMouseOver:(0,t.useCallback)((()=>n(!0)),[n]),handleMouseLeave:(0,t.useCallback)((()=>n(!1)),[n])}}();s&&(Z=!1,V="inactive");const z=(0,Ze.Z)(!!k),K=Wn(z),X=Wn(V),q=Wn(V),$=Wn(H),J=Wn(z),Q=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(b),ee="visible"!==K||Q?K:"none",ne={primaryContentVisibility:null!==(w=C.primaryContent)&&void 0!==w?w:Yn(q,$,"visible"===J?"none":J),secondaryContentVisibility:(ie=Yn(q,$,J),"none"===ie?"visible":"visible"===ie?"none":"hidden"),actionBarVisibility:Yn(q,$),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var ie;const te=e=>F(e),oe=e=>F(e),re=e=>{F(e),e||Y()};let ae=null;"none"!==ne.primaryContentVisibility&&(ae=(0,S.jsx)(sn,{forcePrimaryContent:te,showEnabledSaveBehavior:B,onToggleFlyout:oe,onToggleModal:re,pin:E,...T}));let se=null;const le=(0,t.useRef)(!0),de=le.current;le.current=!1;const ce=function(e,n){const{carousel_data:i}=e,{index:o}=i||{},[r,a]=(0,t.useState)(!i||n),s=(0,t.useRef)(o),l=(0,t.useRef)(null);if(i){const e=s.current;s.current=o,(o!==e||n)&&(l.current&&clearTimeout(l.current),a(!0),l.current=setTimeout((()=>{a(!1),l.current=null}),4e3))}return(0,t.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),r}(E,de),_e=Wn((0,Ze.Z)(ce));ne.secondaryContentVisibility=null!==(M=C.secondaryContent)&&void 0!==M?M:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(ne.secondaryContentVisibility,_e),se=(P.allowShoppingPriceIndicator||P.shoppingLabelColor||"none"!==ne.secondaryContentVisibility)&&!a&&(0,S.jsx)(f.xu,{margin:2,children:(0,S.jsx)(ln.Z,{pin:E,...P})});let ue=null;"visible"===C.accessoryContent&&(ue=(0,S.jsx)(D,{pin:E}),ne.accessoryContentVisibility=Wn(V)),h.isSocialSeasonalBoard&&(e.showShareButton=!1);let pe=null;v&&(e.showSourceLinkButton=!1,pe=(0,S.jsx)(o.Z,{children:(0,S.jsx)(yn.Z,{pinId:E.id,surface:b})}));const Ee="visible"===C.actionBar?(0,S.jsx)(N,{onToggleFlyout:oe,pin:E,setForcePrimary:F,surface:b,...e}):null;let he=null;A&&(he=(0,S.jsx)($e,{blockClickEvents:n,hoverTransitionState:"image-only-credit"===l.attributionType?V:null,pin:E,setForcePrimary:F,surface:b,...l})),h.isSocialSeasonalBoard&&(he=(0,S.jsx)(f.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,S.jsx)(f.xu,{margin:"auto",width:zn,children:(0,S.jsx)(Cn,{isFlyoutOpen:U,onFlyoutDismiss:()=>oe(!U),onToggleFlyout:()=>oe(!U),pinId:E.id,sendType:"pin",shownWithinMasonry:!0,viewType:j})})}));const Ie=R&&(0,S.jsx)(wn.Z,{...d}),Te=y&&E.debug_info_html&&(0,S.jsx)(f.xu,{paddingY:1,children:(0,S.jsx)("pre",{children:E.debug_info_html})}),me=(0,S.jsx)(L.Z,{pin:E}),fe=(0,t.useRef)();"header-only"===Ln(fe)&&(ne.actionBarVisibility="none",ne.accessoryContentVisibility="none");const Se=O?(0,S.jsx)(Mn.ZP,{pin:E,..._}):null,Pe="ShoppingGridShippedMetadataWithVisitButton"===b?{height:"100%"}:{},ge=(0,G.tc)("web_ag_msg_pin_card_update"),Ae="ConversationView"===b&&ge({dangerouslySkipActivation:!0}).anyEnabled,Re=(0,G.tc)("web_creator_attr_hover_overlay"),Oe=A&&"default"===l.attributionType&&Vn.ZF.includes(b),Ne=!E.is_promoted&&!s&&Oe,ve=Ne&&Re({dangerouslySkipActivation:!0}).anyEnabled;return Ne&&(he=(0,S.jsx)(f.xu,{onMouseEnter:Re,onFocus:Re,children:he})),(0,S.jsx)(r.Z,{name:"PinRepContainer",children:(0,S.jsx)(f.xu,{"data-test-id":"pin","data-test-pin-id":E.id,onFocus:ve?()=>{}:W,onBlur:ve?()=>{}:Y,onMouseEnter:ve?()=>{}:W,onMouseLeave:ve?()=>{}:Y,dangerouslySetInlineStyle:{__style:Pe},rounding:Ae&&"ConversationView"===b?m:void 0,borderStyle:Ae&&"ConversationView"===b?i:"none",overflow:Ae&&"ConversationView"===b?"hidden":"visible",children:(0,S.jsx)(Zn,{visualOverlayVisibility:X,savedOverlayVisibility:ee,handleMouseOverPinContent:ve?W:()=>{},handleMouseLeavePinContent:ve?Y:()=>{},primaryContent:ae,primaryContentVisibility:ne.primaryContentVisibility,secondaryContent:se,secondaryContentVisibility:ne.secondaryContentVisibility,accessoryContent:ue,accessoryContentVisibility:ne.accessoryContentVisibility,actionBar:Ee,actionBarVisibility:ne.actionBarVisibility,seeStatsButton:pe,footer:he,selectionState:g,debugContent:Ie,signalDebuggerV2Content:me,signalDebuggerV2ContentVisibility:ne.signalDebuggerV2ContentVisibility,signalDebuggerContent:Te,obscuredPinOverlay:Se,...I,children:(0,S.jsx)(f.xu,{height:"100%",ref:fe,children:(0,S.jsx)(vn,{blockClickEvents:n,showUnavailablePin:x,isHovering:Z,onError:u,onLoad:p,pin:E,surface:b,selectionState:g,...h})})})})})}))},903997:(e,n,i)=>{i.d(n,{Dv:()=>r,Oc:()=>t,mv:()=>o});const t=16,o=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"}},497959:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(716975),o=i(123686);function r({feedbackOptions:e,pin:n,viewParameter:i},r){const{board:a,pinner:s}=n,{getFeedbackType:l}=(0,t.ZP)({i18n:r,interpolateNamedTemplate:o.nk});return l({board:a,feedback:e,pin:n,pinner:s,viewParameter:i})}},369870:(e,n,i)=>{function t(e,n){return e&&e[n]&&e[n].url}i.d(n,{Z:()=>t})},706713:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(377097),o=i(531572);function r(e,n){const{isProduct:i}=(0,t.Z)(e);return(i||"ShoppingGridShippedMetadataWithVisitButton"===n&&(0,o.Uz)(e))&&(0,o.QY)(e)||""}},721237:(e,n,i)=>{i.d(n,{$l:()=>c,Lb:()=>u,NE:()=>E,Nc:()=>a,SR:()=>r,bm:()=>p,dZ:()=>d,nU:()=>_,o:()=>s,pU:()=>l});var t=i(325768),o=i(8720);function r(e){var n;return(null===(n=e.closeup_attribution)||void 0===n?void 0:n.id)||null}function a(e){var n,i;return!(0,o.iR)(e.videos)&&!(0,o.hy)(e)&&0!==Object.keys((null===(n=e.aggregated_pin_data)||void 0===n||null===(i=n.creator_analytics)||void 0===i?void 0:i["30d_realtime"])||{}).length}function s(e){var n;return 0!==Object.keys((null===(n=e.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function l(e){var n;return 0!==Object.keys((null===(n=e.public_creator_analytics)||void 0===n?void 0:n.all_time_realtime)||{}).length}function d(e){var n,i;return!(null===(n=e.creator_analytics)||void 0===n||null===(i=n["30d_realtime"])||void 0===i||!i.is_realtime)}function c(e){const n=e.aggregated_pin_data||{};return n.is_shop_the_look||n.is_stela}function _(e){const{native_creator:n,pinner:i,domain:t}=e;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!i&&i.domain_verified&&i.domain_url===t)&&!e.is_promoted||n}function u(e){if(!e.story_pin_data_id)return;const{story_pin_data:{metadata:n,pages:i=[]}={}}=e;return{metadata:n,detailsPage:i[1]}}const p=({viewer:e,pin:n})=>(0,t.su)(e)&&n.is_quick_promotable_by_pinner;function E({carouselInfo:e,closePanelWidth:n,isWideVideo:i,isShortImage:t,naturalWidth:o,showCloseupContentRight:r}){return!(i||!r)&&(!!t||!e&&o<n)}},613933:(e,n,i)=>{i.d(n,{Nb:()=>s,Of:()=>l,YO:()=>a,ZP:()=>_,x4:()=>c});var t=i(667294),o=i(880881),r=i(384342);const a=({showPdp:e,isLargerPane:n,showCloseupContentRight:i})=>e&&n?i?r.Uj:r.zT:1,s=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:n,showCloseupContentRight:i,showPdp:t,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:a})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:n,showCloseupContentRight:i,showPdp:t,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:a}))),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:r.CI,regular:r.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:r.Kn,regular:r.u6}},d=(0,t.createContext)(l);function c(){const e=(0,t.useContext)(d);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const _=d},384342:(e,n,i)=>{i.d(n,{CI:()=>r,Ch:()=>s,Gb:()=>l,Gg:()=>t,Ie:()=>u,JV:()=>E,KP:()=>p,Kn:()=>a,Uj:()=>d,bx:()=>h,d2:()=>_,g9:()=>I,iB:()=>T,u6:()=>o,zT:()=>c});const t=508,o=2*t,r=488,a=992,s=672,l=1176,d=.6,c=.84,_=40,u=72,p=740,E=60,h=912,I=32,T={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},248240:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(67316),o=i(633612);function r(e,n){const i=o.Z.instance;let r;if(i){const o=i.getState();if(o.pins&&e){const i=o.pins[e],a=o.location;if(null!=n&&n.shouldTrackForPrevLocation){const e=(null==i?void 0:i.tracking_params_map)||{},n=Object.keys(e).find((e=>"PinResource"!==e));i&&(r=n?e[n]:e.PinResource)}else i&&(r=(0,t.Z)(i,a))}}return r}},675152:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(648925),o=i(994953);const r=(0,t.Z)((e=>{const{videos:n}=e.pin,{id:i,video_list:t={}}=n||{},{V_720P:r,V_HLSV4:a,V_HLSV3_MOBILE:s}=t,l=(0,o.V)(a),d=(0,o.V)(s),c=(0,o.V)(r),_=c||l||d;return i&&_?{...e,video:{id:i,hasVideo:_,mp4:c||void 0,hls:l||void 0,hlsv3:d||void 0}}:null}))},613239:(e,n,i)=>{i.r(n),i.d(n,{default:()=>_});var t=i(40142),o=i(850770),r=i(255948),a=i(531572),s=i(539195),l=i(613933),d=i(883119),c=i(785893);function _({carouselData:e,carouselIndex:n,componentType:i,contextLogData:_,handleCarouselSwipe:u,isCloseup:p,isEditMode:E,pinId:h,viewParameter:I,viewType:T,variant:m}){const{logContextEvent:f}=(0,s.v)(),S=(0,t.useSelector)((({pins:e})=>e[h]),t.shallowEqual),P=e||(0,o.Z)({pin:S}),g=(0,t.useDispatch)();if(!P)return null;const A=(e,n,t)=>{E||void 0===r.yR||(e.preventDefault(),e.stopPropagation(),g((0,r.yR)(String(h),t))),void 0!==u&&u(t),((e,n,i,t=0,o,r,s,l,d,c,_)=>{if(!_){const{carousel_slots:_,id:u}=r;e({event_type:108,object_id_str:i,component:d,view_type:l,view_parameter:s,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==_?void 0:_[t])&&Number(_[t].id),carouselDataId:Number(u),carouselSlotIndex:t,toCarouselSlotIndex:o}},aux_data:{...c,...(0,a.Kl)(n)||{}}})}})(f,S,h,n,t,P,I,T,i,_,E)},{carousel_slots:R=[],index:O}=P,N=void 0!==n?n:O,v="default"===m,y=v?"white":"#555",x=v?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,c.jsx)(l.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,c.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:p?"end":"center",paddingY:E?1:0,children:[...Array(R.length).keys()].map((e=>{var n;return(0,c.jsx)(d.xu,{paddingX:1,children:(0,c.jsx)(d.iP,{accessibilityLabel:null!==(n=R[e].title)&&void 0!==n?n:"",fullWidth:!1,onTap:({event:n})=>A(n,N,e),rounding:"circle",children:(0,c.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===N?y:x}},rounding:"circle"})})},h+e)}))})})}},796629:(e,n,i)=>{i.d(n,{Z:()=>u});var t=i(667294),o=i(126684),r=i(400052),a=i(517649),s=i(573686),l=i(531572),d=i(8720),c=i(539195),_=i(785893);function u({children:e,hovered:n,pin:i,slotIndex:u,trafficSource:p,viewType:E}){const{logContextEvent:h}=(0,c.v)(),[I,T]=(0,t.useState)(),[m,f]=(0,t.useState)(),{id:S,tracked_link:P,link:g}=i,A=P||g||"",R=()=>{T(!0)},O=(0,s.Z)(i),N=(0,a.Z)((0,o.Z)({pin:i})),v=(0,t.useCallback)((()=>{((e,n,i)=>{const t={check_only:i,pin_id:e.id,url:n,client_tracking_params:O,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:S,...u||{},...(0,l.Kl)(e)||{}})};return(0,r.Z)(t)})(i,A,!1).callGet({showError:!1}).then((e=>{e&&(h({event_type:12,object_id_str:S,view_type:E,view_parameter:N,aux_data:{clickthrough_type:"rightClick",...u||{},...(0,l.Kl)(i)||{}}}),h({event_type:8948,view_type:E,object_id_str:S,view_parameter:N,aux_data:{click_type:"clickthrough",closeup_navigation_type:p&&(0,d.sV)(p)?"deeplink":"click",clickthrough_type:"rightClick",...u||{},...(0,l.Kl)(i)||{}}}))}))})),y=e=>{var n;I&&(/^\/pin/.test(null===(n=e.target.activeElement.attributes.href)||void 0===n?void 0:n.value)||(v(),T(!1)),window.removeEventListener(m,y,!1))};return(0,t.useEffect)((()=>{var e,n,i,t,o,r;void 0!==(null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.hidden)?f("visibilitychange"):void 0!==(null===(i=window)||void 0===i||null===(t=i.document)||void 0===t?void 0:t.msHidden)?f("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&f("webkitvisibilitychange")}),[]),(0,t.useEffect)((()=>(I&&window&&window.addEventListener(m,y,!1),()=>window.removeEventListener(m,y))),[I,m]),(0,t.useEffect)((()=>(n&&window.addEventListener("contextmenu",R),()=>{window.removeEventListener("contextmenu",R)})),[n]),(0,_.jsx)(t.Fragment,{children:e})}},848392:(e,n,i)=>{i.d(n,{J:()=>t,o:()=>o});const t="numSearchCloseups",o=20},565375:(e,n,i)=>{i.d(n,{ZP:()=>l,tY:()=>c,Yh:()=>d});var t=i(40142),o=i(379771),r=i(456168);const a=0,s=1;function l(e){var n;const i=(0,r.Z)(),t=i.isAuth&&i.id===e,a=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!i.isAuth||t});return{showEnabledSaveBehavior:t&&i.has_quicksave_board||!(!i.isAuth||null===(n=a.data)||void 0===n||!n.has_quicksave_board)}}function d(e){var n;const i=(0,t.useDispatch)(),a=(0,r.Z)(),s=a.isAuth&&!!a.boardCount&&a.boardCount<5&&e,l=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id},dangerouslyDisableFetch:!s||!e});return a.isAuth&&void 0===a.save_behavior&&l&&null!==(n=l.data)&&void 0!==n&&n.id&&i({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:s}}function c(e){const n=(0,r.Z)();let i;return e&&(n.save_behavior===a?i={type:"classic"}:n.save_behavior===s&&(i={type:"inline"})),{saveBehaviorType:i}}},385894:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(379771),o=i(925927);function r(){const{username:e}=(0,o.UO)();return(0,t.Z)({name:"UserResource",options:{username:e,field_set_key:"profile"}})}},712611:(e,n,i)=>{i.d(n,{k:()=>r,s:()=>a});var t=i(667294);const o=(0,t.createContext)(Object.freeze({})),r=o.Provider;function a(){return(0,t.useContext)(o)}},130510:(e,n,i)=>{i.d(n,{Ac:()=>r,c7:()=>o,cg:()=>t});const t=-1,o=5,r=6},235198:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(588028),o=i(257758);function r({action:e,board:n,viewer:i}){var r;return(0,t.Z)(i,n)||(0,o.Z)({board:n,viewer:i})&&!(null===(r=n.collaborator_permissions)||void 0===r||!r.includes(e))}},257758:(e,n,i)=>{function t({board:e,viewer:n}){const{collaborated_by_me:i}=e;return Boolean(n.isAuth&&i)}i.d(n,{Z:()=>t})},235744:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(588028),o=i(257758);function r({board:e,viewer:n}){return(0,t.Z)(n,e)||(0,o.Z)({board:e,viewer:n})}},792098:(e,n,i)=>{i.d(n,{Z:()=>c});var t=i(811290),o=i(494618),r=i(527618),a=i(883119),s=i(785893);const l=({count:e,countFormat:n,ratingValue:i,shippingInfo:r,highlightLabel:l})=>(0,s.jsxs)(a.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,s.jsx)(t.Z,{count:e,countFormat:n,rating:i,textSize:"200"}),(0,s.jsx)(o.ZP,{customStyles:{color:l?"shopping":"subtle",size:"md"},shippingInfo:r})]}),d=({count:e,countFormat:n,ratingValue:i,shippingInfo:l,condition:d,highlightLabel:c})=>(0,s.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:2,wrap:!0,children:[(0,s.jsx)(t.Z,{count:e,countFormat:n,rating:i,textSize:"300"}),(0,s.jsx)(o.ZP,{condition:d,customStyles:{color:c?"shopping":"default",size:"lg"},shippingInfo:l,showPrevDot:(0,r.Z)({count:e,rating:i})})]});function c(e){return e.isGridView?(0,s.jsx)(l,{...e}):(0,s.jsx)(d,{...e})}},388481:(e,n,i)=>{i.d(n,{$O:()=>s,GZ:()=>d,OE:()=>c,Xv:()=>l,Z0:()=>t,_z:()=>r,fM:()=>a,qA:()=>o,zX:()=>_});const t=40,o=4,r=106,a=133,s=.1,l=10,d=246,c=197,_=236},11874:(e,n,i)=>{function t(e,n,i,t){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:n,undoAction:i,undoText:t}}}function o(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function r(e,n){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:n}}}function a(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function l(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function d(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}i.d(n,{I1:()=>o,Ib:()=>a,NA:()=>t,ZP:()=>r,b9:()=>l,i0:()=>s,yj:()=>d})},628613:(e,n,i)=>{i.d(n,{N:()=>a,Z:()=>r});var t=i(883119),o=i(785893);function r({children:e,fullWidth:n}){return(0,o.jsx)(t.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},children:e})}function a({children:e,enabled:n}){return n?(0,o.jsx)(r,{children:e}):e}},325768:(e,n,i)=>{i.d(n,{Fl:()=>c,GG:()=>_,Pw:()=>p,dl:()=>l,k3:()=>E,su:()=>h,tW:()=>u});var t=i(584230),o=i(309892),r=i(498177);const a=["AU","CA","GB","IE","NZ","US","FR","DE","AT","IT","ES","NL","BE","PT","CH","NL","BE","PT","CH","SE","NO","DK","FI"],s=["BR","CY","CZ","GR","HU","LU","MT","MX","RO","SK"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US"],d=["US","CA"],c=(e,n)=>{if(s.includes(e.toUpperCase())){const{anyEnabled:e}=n.experiments.getWithActivation("advertiser_growth_qp_expansion");return e}return a.includes(e.toUpperCase())},_=e=>!!e&&d.includes(e.toUpperCase()),u=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),p=({requestContext:e,history:n,pinId:i})=>{((e,n)=>{const i=(0,r.ru)("/business/convert",{next:n});e.push(i)})(n,(e=>e?`/business/ad_create?pinId=${e}`:"/business/ad_create")(i))},E=e=>{const n=e.trim().split(" ").filter((e=>!!e));return{firstName:n.length>0?n[0]:"",lastName:n.length>1?n.slice(1).join(" "):""}},h=e=>e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,t.Z)(null,e)},629037:(e,n,i)=>{function t(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}i.d(n,{Z:()=>t})},22192:(e,n,i)=>{function t(e){const n=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(n&&n.length>0)}i.d(n,{Z:()=>t})},573686:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(67316),o=i(525479),r=i(925927);function a(e){const n=(0,r.TH)(),{previous:i}=(0,o.H)();return(0,t.Z)(e,n,i)}},766279:(e,n,i)=>{function t(e){const n=Math.round(e/1e3),i=n%60;return Math.floor(n/60)+":"+(i<10?"0":"")+i}i.d(n,{Z:()=>t})},584230:(e,n,i)=>{i.d(n,{Z:()=>t});function t(e,n){if(!(e||{}).created_at&&!(n||{}).createdAt)return!1;let i="";n&&n.createdAt?i=n.createdAt:e&&e.created_at&&(i=e.created_at);const t=new Date(i);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},309892:(e,n,i)=>{i.d(n,{Z:()=>t});function t(e,n,i=28){if(!(e||{}).resurrection_info&&!(n||{}).resurrectionInfo)return!1;let t;t=n?((n||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,r=t?new Date(t):o;return r.setDate(r.getDate()+i),(new Date).getTime()<r.getTime()}},880881:(e,n,i)=>{i.d(n,{_Y:()=>t,qe:()=>a,xZ:()=>r});const t=(e,n)=>e.length===n.length&&e.every(((e,i)=>function(e,n){if("object"==typeof e&&"object"==typeof n){const i=Object.keys(e),t=Object.keys(n);return i.length===t.length&&i.every((i=>e[i]===n[i]))}return e===n}(e,n[i]))),o=(e,n)=>e.length===n.length&&e.every(((e,i)=>e===n[i])),r=(e,n=o)=>i=>{const t=[];return function(...o){const r=this,a=t.find((e=>e.context===r&&n(e.args,o)));if(a)return a.result;const s={context:r,args:o,result:i.apply(this,o)};return t.push(s),e&&t.length>e&&t.shift(),s.result}},a=r(1);r()},866104:(e,n,i)=>{function t(e={},n=[]){return Object.keys(e).reduce(((i,t)=>n.includes(t)?i:{...i,[t]:e[t]}),{})}i.d(n,{Z:()=>t})},516795:(e,n,i)=>{i.d(n,{Z:()=>p});var t=i(377097);var o=i(194594),r=i(766279),a=i(710159),s=i(112978),l=i(883119),d=i(785893);const c={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},_={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function u({backgroundColor:e,identifier:n,size:i="sm"}){const t="pine"===e?"#0FA573":"#fff",o="sm"===i?c:_;return(0,d.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...o,backgroundColor:e?t:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:n})}function p({pin:e,size:n="sm",allowProductCarousel:i,allowShoppingPriceIndicator:c,shoppingLabelColor:_}){const p=(0,a.ZP)(),E=(0,t.Z)(e),h=(0,s.tc)("web_pdp_pur_optim"),{group:I,anyEnabled:T}=(0,s.aq)("hfp_idea_pin_identifer_web");if(E.isGif)return u({identifier:"GIF",size:n});if(E.isStoryPin){const{page_count:i=0,total_video_duration:t=0}=e.story_pin_data||{},o=T?I:"default";let a="idea-pin",s=i.toString();if("default"!==o)if(s=(0,r.Z)(t>0?t:5e3*i),o.includes("play"))a="play";else{if(!o.includes("icon_time"))return u({identifier:s,size:n});a="idea-pin"}return u({identifier:(0,d.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,d.jsx)(l.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,d.jsx)(l.JO,{accessibilityLabel:p._("Idea Pin","pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel","identifier that shows the pin type"),inline:!0,icon:a,color:"darkGray",size:"sm"===n?12:16})}),(0,d.jsx)(l.xv,{inline:!0,size:"sm",weight:"bold",children:s})]}),size:n})}if(E.isVideo){const i=e.videos,{duration:t=0}=i&&i.video_list&&i.video_list[Object.keys(i.video_list)[0]]||{};return u({identifier:(0,r.Z)(t),size:n})}if(E.isProduct){const i=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary;if(c){const e=i&&(i.price||i.max_price);return e?u({identifier:e,size:n}):null}if(_){const t=null==i?void 0:i.percentage_off;let o=!1;t&&(o=h().anyEnabled);const r=o&&t||function(e){var n;return((((null===(n=e.rich_summary)||void 0===n?void 0:n.products)||[])[0]||{}).label_info||{}).labels||[]}(e)[0];return r?u({identifier:r,backgroundColor:_,size:n}):null}return null}if(i){const i=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],t=i&&(0,o.Z)(e.images,i.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:r=[],index:a=0}=t;return u({identifier:`${a+1}/${r.length}`,size:n})}if(E.isCarousel){const i=e.carousel_data||{},{carousel_slots:t=[],index:o=0}=i;return u({identifier:`${o+1}/${t.length}`,size:n})}return null}},834375:(e,n,i)=>{i.d(n,{P:()=>a,t:()=>s});var t=i(724207);const o=()=>{};const r={complaint:function(e,n){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>n()))},followBoard:function(e,n){t.ZP.create("BoardFollowResource",e).callCreate().then((()=>n()))},followPinner:function(e,n){t.ZP.create("UserFollowResource",e).callCreate().then((()=>n()))},followTopic:function(e,n){t.ZP.create("InterestFollowResource",e).callCreate().then((()=>n()))},newsHubPinHide:function(e,n){t.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>n()))},promotedComplaint:function(e,n){t.ZP.create("PinFeedbackResource",e).callUpdate().then((()=>n()))},relatedPinHide:function(e,n){t.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>n()))},reportPin:function(e,n){n()},showAdReasons:function(e,n){n()},unfollowBoard:function(e,n){t.ZP.create("BoardFollowResource",e).callDelete().then((()=>n()))},unfollowPinner:function(e,n){t.ZP.create("UserFollowResource",e).callDelete().then((()=>n()))},unfollowTopic:function(e,n){t.ZP.create("InterestFollowResource",e).callDelete().then((()=>n()))},unrelatedSearchPin:function(e,n){t.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((()=>n()))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,n,i=o){const t=e?r[e]:null;return t?t(n,i):i()}},716975:(e,n,i)=>{i.d(n,{EF:()=>_,XZ:()=>d,ZP:()=>s,nb:()=>c,yl:()=>l});var t=i(632589),o=i(834375),r=i(879268);const a=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,s=({i18n:e,interpolateNamedTemplate:n})=>({getLearnMoreUrl:e=>{switch(e){case 1:return t.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return t.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return t.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:i,board:t,feedbackType:o,makeNavigateLink:r,pinner:s,promoter:l,recommendationReason:d,sourceInterest:c})=>{switch(o){case"pfy":return e._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":const{name:o,url:_}=d.board,u=r("navigation",_,o);return n(e._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:u});case"topic":const{name:p,url_name:E}=c,h=r("topicUrl",`/topics/${E}`,p);return n(e._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:h});case"followed":const I=`/${s.username}`,T=r("boardUrl",t.url,a(t.name)),m=r("pinnerUrl",I,a(s.full_name));return s.explicitly_followed_by_me?n(e._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:m}):n(e._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:T});case"promoted":switch(i){case 1:case 2:case 3:return e._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:const{full_name:i,username:t}=l,o=r("promotedLink",t?"/"+t+"/":"/",i);return n(e._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:n,viewParameter:i,pin:{promoter:t,is_downstream_promotion:o,recommendation_reason:r},pinner:a}){const s=n&&n.type;return t&&!o?"promoted":s||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||a&&a.explicitly_followed_by_me?"followed":140===i||144===i||141===i||145===i||139===i||3173===i?"related":92===i?"default":3082===i?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:n,pinId:i,recommendationReasonId:t,pinFeedbackType:o,complaintReason:r,throughId:a,throughProperties:s,clientTrackingParams:l})=>{const d="promoted"===n;let c,_;switch(n){case"promoted":c="promotedComplaint";break;case"search":c="unrelatedSearchPin";break;case"related":c="relatedPinHide";break;case"newsHub":c="newsHubPinHide";break;default:c="complaint"}switch(n){case"search":_={query:e.query,pin_id:i};break;case"related":_={pin:i};break;case"newsHub":_={pinId:i,newsId:e.newsId};break;default:_={complaint_reason:r||0,pin_id:i,...t?{recommendation_reason_id:t}:{},feedback_type:o||1,promoted:d,...a?{through_id:a}:{},...s?{through_properties:s}:{},...l?{client_tracking_params:l}:{}}}return{action:c,actionOptions:_}},getUnfollowAction:({board:i,feedbackType:t,makeNavigateLink:o,pinner:a,sourceInterest:s})=>{if("topic"===t){if(s){const{id:i,name:t,url_name:a}=s,l=o("topicUrl",`/topics/${a}`,t,!0),d=n(e._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:r.X},title:"",subTitle:d}}}else if("followed"===t&&i&&a){const{id:t,name:r,url:s}=i||{},{explicitly_followed_by_me:l,full_name:d,username:c}=a,_=`/${c}`,u=o("boardUrl",s,r,!0),p=o("pinnerUrl",_,d,!0);let E=l?n(e._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:p,formattedBoard:u}):n(e._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:u});return E=l?n(e._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:p}):n(e._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:u}),{action:"unfollowBoard",actionOptions:{board_id:t},title:"",subTitle:E}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function c(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function _(e,n,i,t,r,a,s){return()=>{const l={...e,undo:!0};let d=n;"unfollowPinner"===n?d="followPinner":"unfollowBoard"===n?d="followBoard":"unfollowTopic"===n&&(d="followTopic"),(0,o.t)(d,l),a(i),s({event_type:101,component:0,element:11181,view_type:t,view_parameter:r})}}},230555:(e,n,i)=>{function t(e,n){if(!e)return"";if(e.embed&&"gif"===e.embed.type)return e.embed&&e.embed.src||"";const i=e.images;if(!i)return"";if(n){const e="474x"===n&&i["474x"]||"236x"===n&&i["236x"]||i["736x"];if(e&&e.url)return e.url}const t=Object.keys(i).map((e=>{try{const n=e.split("x")[0];return Number.isNaN(Number(n))?(i[n]=i[e],n):e}catch(n){return""}}));t.sort();const o=t.pop();return i[o]&&i[o].url||""}i.d(n,{Z:()=>t})},377097:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(629037),o=i(8720);function r(e){const{access:n,attribution:i,embed:r,is_eligible_for_web_closeup:a,rich_summary:s,sponsorship:l,story_pin_data_id:d,videos:c}=e,_={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};(0,o._Q)(e)&&(_.isLeadPin=!0),(0,t.Z)(e)&&(_.isCarousel=!0),a&&(_.isOneTap=!0),(0,o.iR)(c)&&(_.isVideo=!0);const u=r||i&&i.embed||null;return u&&"gif"===u.type&&(_.isGif=!0),s&&"product"===s.type_name&&(_.isProduct=!0),s&&"recipe"===s.type_name&&(_.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(_.isPromoted=!0),(n||[]).includes("write")&&(_.isOwnPin=!0),d&&(_.isStoryPin=!0),l&&(_.isSponsored=!0),_}},517649:(e,n,i)=>{function t(e){if(e&&e.pin){const n=e.pin.rich_metadata;if(n)return n.products?144:n.article?141:n.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}i.d(n,{Z:()=>t})},494618:(e,n,i)=>{i.d(n,{KX:()=>_,Uv:()=>c,ZP:()=>u,gP:()=>d});var t=i(220932),o=i(710159),r=i(225643),a=i(123686),s=i(883119),l=i(785893);function d({condition:e}){const n=(0,o.ZP)();switch(e){case r.ConditionType.USED:return n._("Used","closeup.product.condition_used","product condition that is used");case r.ConditionType.REFURBISHED:return n._("Refurbished","closeup.product.condition_refurbished","product condition that is refurbished");case r.ConditionType.NEW:default:return""}}function c(){return(0,o.ZP)()._("Free shipping","closeup.product.shipping","product shipping info")}function _({freeShippingPrice:e}){const n=(0,o.ZP)();return(0,a.nk)(n._("Free shipping with {{ shippingPrice }}+","closeup.product.shipping","product shipping info"),{shippingPrice:e}).join("")}function u({customStyles:e,shippingInfo:n,showPrevDot:i,condition:o}){const{free_shipping_price:r,free_shipping_value:a}=n||{},u=i?[""]:[],{color:p="subtle",size:E="200"}=e||{},h=d({condition:o});return Number.isFinite(a)?(h&&u.push(h),0===a?u.push((0,l.jsx)(c,{})):r&&u.push((0,l.jsx)(_,{freeShippingPrice:r})),0===u.length?null:(0,l.jsx)(s.xv,{color:p,size:E,children:(0,l.jsx)(t.Z,{color:p,items:u})})):null}},483050:(e,n,i)=>{function t(e){const n=Object.keys(e);if(n.length>0){return n.sort(((n,i)=>e[i]-e[n])).slice(0,3)}return null}function o(e){const n=Object.values(e);if(n.length>0){return n.reduce(((e,n)=>e+n),0)}return 0}function r(e,n){const{videos:i,is_downstream_promotion:t,is_promoted:o,story_pin_data_id:r,board:a}=e;return!(o||t||(!i||!i.id)&&!r||n||null!=a&&a.is_collaborative&&a.collaborated_by_me)}i.d(n,{At:()=>t,J6:()=>r,Ud:()=>o})},229687:(e,n,i)=>{i.d(n,{A:()=>l,Z:()=>d});var t=i(667294),o=i(498913),r=i.n(o),a=i(883119),s=i(785893);const l=({fill:e,width:n,color:i})=>{const o="half"===e?(0,s.jsxs)(t.Fragment,{children:[(0,s.jsx)(a.xu,{position:"absolute",children:(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"darkGray":"gray",icon:"star",size:12});return(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function d({max_rating:e,rating:n,width:i,color:o}){const a=[],d=function(e,n){return 5*(n=n<=e?n:e)/e}(parseFloat(e)||5,parseFloat(n)||0);if(Number.isNaN(d))return null;const c=Math.floor(d),_=d-c;return r()(c,(e=>a.push((0,s.jsx)(l,{color:o,fill:"full",width:i},e)))),_>=.75?a.push((0,s.jsx)(l,{color:o,fill:"full",width:i},a.length)):_>=.25&&a.push((0,s.jsx)(l,{color:o,fill:"half",width:i},a.length)),r()(5-a.length,(()=>a.push((0,s.jsx)(l,{color:o,fill:"empty",width:i},a.length)))),(0,s.jsx)(t.Fragment,{children:a})}},994953:(e,n,i)=>{i.d(n,{V:()=>t});const t=e=>{const{thumbnail:n,url:i,width:t,height:o,duration:r}=e||{};return n&&i&&t&&o&&{thumbnail:n,url:i,width:t,height:o,duration:r}||void 0}},897985:(e,n,i)=>{i.d(n,{Z:()=>a});var t=i(710159),o=i(883119),r=i(785893);function a({height:e,isDenseView:n,rounding:i,width:a}){const s=(0,t.ZP)();return(0,r.jsx)(o.xu,{color:"white",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:i,overflow:"hidden",width:a,height:e,"data-test-id":"unavailable-pin",children:(0,r.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,r.jsx)(o.xu,{paddingY:n?2:4,children:(0,r.jsx)(o.JO,{accessibilityLabel:s._("Pin not available","story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel","Accessibility label on icon"),color:"darkGray",icon:"alert",size:20})}),(0,r.jsx)(o.xv,{weight:"bold",children:s._("Unavailable","story-pin.Closeup.UnavailableIdeaPin.Unavailable","Text on an unavailable idea Pin that has been deleted")}),!n&&(0,r.jsx)(o.xu,{paddingY:1,children:(0,r.jsx)(o.xv,{children:s._("Removed by the creator","story-pin.Closeup.UnavailableIdeaPin.Removed","Text on an unavailable idea Pin explaining it has been removed by its creator")})})]})})}},514183:(e,n,i)=>{i.d(n,{Z:()=>t});const t=(e,n)=>e.length>n?e.substr(0,n-3).trim()+"…":e},819086:(e,n,i)=>{i.d(n,{ZP:()=>t});function t(e,n=80,i="…",t=false){let o;if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||t)o=e.substring(0,n);else{const i=e.lastIndexOf(" ",n);o=e.substring(0,i)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+i}},235988:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(883119),o=i(785893);function r({ariaHidden:e=!1,color:n="darkGray",size:i}){return(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(t.xv,{color:n,inline:!0,size:null!=i?i:"md",children:"·"})})}},220932:(e,n,i)=>{i.d(n,{Z:()=>l});var t=i(667294),o=i(235988),r=i(883119),a=i(785893);function s(e){return null!=e}function l({additionalPadding:e,color:n="darkGray",inline:i,items:l}){const d=e?(0,a.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,a.jsx)(o.Z,{color:n})}):(0,a.jsx)(o.Z,{color:n}),c=l.filter(s).reduce(((e,n,i)=>[...e,0!==i?d:null,n]),[]).filter(s).map(((e,n)=>(0,a.jsx)(t.Fragment,{children:e},n)));return 0===c.length?null:i?(0,a.jsx)(r.xu,{children:c}):(0,a.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:c})}},751438:(e,n,i)=>{i.d(n,{Z:()=>r,t:()=>o});const t=()=>{var e,n;const i="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(n=e.connection)||void 0===n?void 0:n.effectiveType:void 0;let t,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var r;return i?"4g"===i?t="40-80":(o="1x",t="0-1"):t="unknown",{downloadSpeedGroup:t,screenDimension:o}};function o(e){const{downloadSpeedGroup:n,screenDimension:i}=t(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},r={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[n][i]||e.V_720P||void 0}function r(e){const{video_list:n={}}=e,i=o(n),t=n.V_HLSV3_MOBILE||void 0;return i?{hlsv3:t,mp4:i}:{hlsv3:t}}},259755:(e,n,i)=>{function t(e){return e.filter((e=>e.is_stela))}function o(e){return e.filter((e=>!!e.label))}i.d(n,{k:()=>t,m:()=>o})},479014:(e,n,i)=>{i.r(n),i.d(n,{RoleBasedAccessControlProvider:()=>f,useRoleBasedAccessControlContext:()=>m});var t=i(667294),o=i(231613),r=i(379771),a=i(456168),s=i(112978),l=i(487889),d=i(454132);const c=e=>{const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?n[(0,d.Z)(i)]=e[i]:n[(0,d.Z)(i)]=c(e[i]));return n},_=(e,n)=>{const i=[];for(const r in e)r!==n&&i.push({id:r,...c(e[r])});const t=i.sort((({user:{businessName:e}},{user:{businessName:n}})=>e.localeCompare(n))),o=new Map;for(const r of t)o.set(r.id,r);return o};var u=i(340813);const p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},E=(e,n)=>{switch(n.type){case"LOAD_PROFILES":return{...e,profiles:n.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:n.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:n.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:n.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:n.payload};default:return e}},h=e=>{const[n,i]=(0,t.useReducer)(E,p),o=(({dispatch:e,isEnabled:n,state:i})=>{const{orbacVisibility:o,disableProfileChanger:r,headerVisible:a}=i;return{changeProfile:(0,t.useCallback)((i=>{n&&e({type:"SET_ACTIVE_PROFILE",payload:i})}),[n,e]),toggleORBACVisibility:(0,t.useCallback)((i=>{n&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=i?i:!o})}),[n,e,o]),toggleDisableProfileChanger:(0,t.useCallback)((i=>{n&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=i?i:!r})}),[n,e,r]),toggleHeaderVisibility:(0,t.useCallback)((i=>{n&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=i?i:!a})}),[n,e,a])}})({dispatch:i,isEnabled:e,state:n}),{activeProfile:r,orbacVisibility:a}=n;(0,t.useEffect)((()=>{const e=(0,u.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,t.useEffect)((()=>{const e=(0,u.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,t.useEffect)((()=>{(0,u.Nh)("orbacVisibility",a)}),[a]),(0,t.useEffect)((()=>{(0,u.Nh)("orbacActiveProfile",r)}),[r]);return{state:n,actions:o,receiveProfiles:(0,t.useCallback)(((e,n)=>{i({type:"LOAD_PROFILES",payload:_(e,n)})}),[i])}};var I=i(785893);const{Provider:T,useMaybeHook:m}=(0,l.Z)("RoleBasedAccessControlContext"),f=({children:e})=>{const n=(0,s.tc)("web_m10n_business_access_orbac_www"),i=(0,a.Z)(),l=Boolean(i.isAuth&&i.isPartner&&n().anyEnabled),{state:d,actions:c,receiveProfiles:_}=h(l),{activeProfile:u,headerVisible:p,profiles:E=[]}=d,m=E?Array.from(E.values()):[],f=(0,o.Z)(m),S=!!(i.isAuth&&m.length>0)&&f,P=i.isAuth?i.id:"",g=i.isAuth?i.username:"",{changeProfile:A,toggleORBACVisibility:R,toggleDisableProfileChanger:O,toggleHeaderVisibility:N}=c;(0,t.useEffect)((()=>{l&&("string"!=typeof f?u||A(P):A(f))}),[f,P,l,A,u]),(0,t.useEffect)((()=>{l&&(S&&!p&&N(!0),!S&&p&&N(!1))}),[N,S,l,p,E]);const{data:v}=(0,r.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}),y=null==v?void 0:v.profiles;let x;i&&i.isAuth&&d.activeProfile===i.id?x={id:i.id,permissions:["OWNER"],user:{username:g,businessName:i.fullName,imgUrl:i.imageSmallUrl}}:u&&d.profiles&&(x=d.profiles.get(u)),(0,t.useEffect)((()=>{y&&_(y,P)}),[_,y,P]);const b=d.profiles?Array.from(d.profiles.values()):[];return(0,I.jsx)(T,{value:{profiles:b,headerVisible:d.headerVisible,activeProfile:x,changeProfile:A,toggleORBACVisibility:R,toggleDisableProfileChanger:O,toggleHeaderVisibility:N},children:e})}},625983:(e,n,i)=>{i.d(n,{Z:()=>r});var t=i(112978),o=i(479014);const r=()=>{const e=(0,t.tc)("web_m10n_business_access_orbac_www"),n=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:i}=n||{};return e().anyEnabled&&i||Object.freeze({})}},231613:(e,n,i)=>{i.d(n,{Z:()=>l});var t=i(40142),o=i(456168),r=i(112978),a=i(907683),s=i(925927);const l=e=>{var n;const i=(0,s.TH)(),l=(0,o.Z)(),{anyEnabled:d}=(0,r.tc)("web_m10n_business_access_orbac_beta_2")(),c=(0,s.$B)("/:username"),_=null==c||null===(n=c.params)||void 0===n?void 0:n.username,u=(0,s.$B)("/pin/:id"),p=(0,t.useSelector)((e=>{var n,i,t,o;return!(null==u||null===(n=u.params)||void 0===n||!n.id)&&(null==e||null===(i=e.pins)||void 0===i||null===(t=i[u.params.id])||void 0===t||null===(o=t.pinner)||void 0===o?void 0:o.id)}));if((0,a.ej)(i))return!1;if((0,a.RU)(i))return!0;if((0,a.mY)(i))return d;const E=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((e=>{const{user:n={},id:i}=e||{},{username:t}=n;return!!(t&&_||p&&i)&&(t===_||p===i)}));return!!E&&E.id}},406335:(e,n,i)=>{i.d(n,{D3:()=>d,DX:()=>s,KY:()=>c,Ms:()=>t,N1:()=>_,_P:()=>a,lJ:()=>r,nl:()=>o,q6:()=>l});const t=(e,n)=>{let i=e&&e.isAuth?e.username:"";return e&&n&&n.user&&n.user.username&&(i=n.user.username),i},o=(e,n)=>Boolean(n&&n.user&&e&&e.isAuth&&n.id!==e.id?n.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),r=(e,n)=>e&&e.isAuth&&n&&n.id&&n.id!==e.id?n.id:"",a=(e,n,i)=>{var t;return i&&i.user&&n&&n.isAuth&&i.id!==n.id?i.user.merchantId:null===(t=e.advertiser)||void 0===t?void 0:t.merchant_id},s=(e,n,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&n&&n.scheduled_pin_count||0,l=(e,n,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===n),d=(e,n,i)=>!!(l(e,n,i)||e&&e.isAuth&&n===e.id),c=(e,n,i)=>{const t=n&&n.owner&&n.owner.id||"";return d(e,t,i)};function _(e,n,i){const t=n?n.id:"";return d(e,t,i)}},811290:(e,n,i)=>{i.d(n,{Z:()=>h});var t=i(527618),o=i(144977),r=i(710159),a=i(564327),s=i(123686),l=i(112978),d=i(952733),c=i(229687),_=i(883119),u=i(785893);const p=({rating:e,textSize:n,type:i})=>{if("single"===i){const i=parseFloat(e);return Number.isNaN(i)?null:(0,u.jsxs)(_.kC,{alignItems:"center",children:[(0,u.jsx)(c.A,{fill:"full",width:12}),(0,u.jsx)(_.xv,{size:n,children:i.toFixed(1)})]})}return(0,u.jsx)(c.Z,{rating:e,width:12})},E=({bracket:e,count:n,countFormat:i,marginStart:t,textSize:l})=>{const{locale:c}=(0,d.B)(),p=(0,r.ZP)(),E=(0,a.Z)();if(null==n)return null;let h="text"===i?(0,s.nk)(p.ngettext("{{ count }} rating","{{ count }} ratings",n,"webapp.app.www-unified.productStarRatings.RatingCountText","count: total ratings count"),{count:n}).join(""):E(c,n,{shortform:!0,shortform_maximum_fraction_digits:1});return e&&(h=`(${h})`),(0,u.jsx)(_.xu,{marginStart:t,children:(0,u.jsx)(_.xv,{size:l,children:(0,u.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:h})})})};function h({count:e,countFormat:n,rating:i,textSize:o}){const r=(0,t.Z)({count:e,rating:i}),a=(0,l.tc)("web_pdp_star_rating"),s=(0,l.tc)("mweb_pdp_star_rating"),d=r&&a().anyEnabled,c=r&&s().anyEnabled,h=d||c;return r?(0,u.jsxs)(_.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(p,{rating:i,textSize:o,type:h?"single":"multiple"}),(0,u.jsx)(E,{bracket:h,count:e,countFormat:n,marginStart:h?1:void 0,textSize:o})]}):null}},527618:(e,n,i)=>{function t({count:e,rating:n}){return Boolean(n&&"None"!==n&&Number.isFinite(e))}i.d(n,{Z:()=>t})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/50991-587242cc53b004a8.mjs.map